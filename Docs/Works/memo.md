# ãƒ¡ãƒ¢

  é€²æ—çŠ¶æ³ï¼ˆ2025-12-30æ™‚ç‚¹ï¼‰

  - Phase 3: ã‚­ãƒ£ãƒ©ã‚¯ã‚¿ãƒ¼çµ±åˆ - é€²æ— 91%
  - BP_ThirdPersonCharacter: å…¨13é …ç›®å®Ÿè£…å®Œäº†
  - AC_Climbing: ä¸»è¦16é …ç›®å®Ÿè£…å®Œäº†

  æœªå®Ÿè£…ã‚¿ã‚¹ã‚¯ï¼ˆ4ä»¶ï¼‰

  1. TryGrabWall - ã‚¯ãƒ©ã‚¤ãƒŸãƒ³ã‚°é–‹å§‹ãƒˆãƒªã‚¬ãƒ¼
  2. ReleaseFromWall - çµ‚äº†ãƒˆãƒªã‚¬ãƒ¼
  3. UpdateAnimationParameters
  4. UpdateLedgeAnimationParameters

- WallOffset: 40.0
- LocationInterpSpeed: 10.0
- TraceLength: 150.0
- ClimbSpeed: 200.0
- RotationInterpSpeed: 10.0


- ã‚­ãƒ£ãƒ©ã‚¯ã‚¿ãƒ¼ãŒå£ã«å¸ç€ã™ã‚‹ã‹: å¸ç€ã—ã¾ã›ã‚“ã€‚
- åºŠã‚’é€šã‚ŠæŠœã‘ãªã„ã‹: é€šã‚ŠæŠœã‘ã¾ã™ã€‚
- WASD ã§å£ã‚’ç™»ã‚Œã‚‹ã‹: è½ä¸‹ã™ã‚‹ã®ã§å£ã‚’ç™»ã‚Œã¾ã›ã‚“ã€‚
ã‚­ãƒ£ãƒ©ã‚¯ã‚¿ãƒ¼ã®æŒ™å‹•ã‚’è¦‹ã¦ã„ã‚‹ã¨ã€ä¸€åº¦å£ã«å–ã‚Šä»˜ã„ã¦ã‹ã‚‰ã€å¼¾ãé£›ã°ã•ã‚Œã¦ã„ã‚‹ã‚ˆã†ã«è¦‹ãˆã¾ã™ã€‚

- å£ã«å¸ç€ã™ã‚‹ã‹: å¸ç€ã—ã¾ã›ã‚“ã€‚
- åºŠã‚’é€šã‚ŠæŠœã‘ãªã„ã‹: åºŠã‚’é€šã‚ŠæŠœã‘ã¾ã™ã€‚
- å¼¾ãé£›ã°ã•ã‚Œãªã„ã‹: ã€Œå¼¾ãé£›ã°ã•ã‚Œã‚‹ã€ã¨ã„ã†è¡¨ç¾ãŒçš„ç¢ºãªã®ã‹ã«ã¯è‡ªä¿¡ãŒã‚ã‚Šã¾ã›ã‚“ã€‚ã‚¸ãƒ£ãƒ³ãƒ—ã®é€”ä¸­ã§ã€ä¸€æ—¦ã‚¯ãƒ©ã‚¤ãƒŸãƒ³ã‚°ãƒãƒ¼ã‚ºã«ãªã£ã¦ã‹ã‚‰ã€æ›´ã«ä¸Šæ˜‡ã—ã¦ã€ã‚¸ãƒ£ãƒ³ãƒ—ã®é ‚ç‚¹ã«é”ã—ãŸå¾Œã«è½ä¸‹ã—ã¦ã„ã¾ã™ã€‚


- å£ã«å¸ç€ã™ã‚‹ã‹: Spaceã‚­ãƒ¼ã‚’æŠ¼ã—ç¶šã‘ã‚Œã°å¸ç€ã—ã¾ã™ã€‚
- ä¸Šæ˜‡ã—ç¶šã‘ãªã„ã‹: ä¸Šæ˜‡ã—ãªããªã‚Šã¾ã—ãŸã€‚
- WASD ã§å£ã‚’ç™»ã‚Œã‚‹ã‹: ç™»ã‚Œã¾ã›ã‚“ã€‚

1. HitWall: true
2. Condition Result: true

- WallJump Started ãŒè¡¨ç¤ºã•ã‚Œãªã„: è¡¨ç¤ºã•ã‚Œãªã„
- å£ã«å¸ç€ã™ã‚‹: å¸ç€ã™ã‚‹
- WASD ã§å£ã‚’ç™»ã‚Œã‚‹: ç™»ã‚Œãªã„ã€‚åå¿œç„¡ã—

1. å£ã®è¿‘ãã§ã‚¹ãƒšãƒ¼ã‚¹ã‚­ãƒ¼ã‚’æŠ¼ã—ã¦å£ã«å¸ç€: å£ã«å¸ç€ã™ã‚‹
2. WASD ã‚­ãƒ¼ã§å£ã‚’ä¸Šä¸‹å·¦å³ã«ç§»å‹•ã§ãã‚‹ã‹ç¢ºèª: WASD ã‚­ãƒ¼ ã®ã©ã‚Œã‚’æŠ¼ã—ã¦ã‚‚å³ç§»å‹•ã«ãªã‚‹ã€‚ã¾ãŸå£ã‚’è¶…ãˆã¦ã‚‚ãã®ã¾ã¾ç§»å‹•ã—ç¶šã‘ã‚‹


  | ã‚­ãƒ¼ | X (Horizontal) | Y (Vertical) |
  |------|----------------|--------------|
  | W    | 0              | 0            |
  | S    | 0              | 0           |
  | A    | 0             | 0            |
  | D    | 0              | 0            |

  | ã‚­ãƒ¼ | è¡¨ç¤ºã•ã‚Œã‚‹å€¤ |
  |------|--------------|
  | W    | X=0, Y=1     |
  | S    | X=1, Y=0    |
  | A    | X=1, Y=0    |
  | D    | X=1, Y=0     |


  | ã‚­ãƒ¼ | Action Value X | Action Value Y |
  |------|----------------|----------------|
  | W    | 0              | 1              |
  | S    | 1              | 0              |
  | A    | 1              | 0              |
  | D    | 1              | 0              |

- Wï¼ˆå‰é€²ï¼‰: å‹•ã
- Sï¼ˆå¾Œé€€ï¼‰: å‹•ã
- Aï¼ˆå·¦ç§»å‹•ï¼‰: å‹•ã
- Dï¼ˆå³ç§»å‹•ï¼‰: å‹•ã


1. Make Vector 2D ã® X ãƒ”ãƒ³ã®ãƒ¯ã‚¤ãƒ¤ãƒ¼ã‚’ã‚¯ãƒªãƒƒã‚¯ â†’ Action Value X
2. ãƒ‡ãƒãƒƒã‚° Print String ã®å…¥åŠ›ãƒ¯ã‚¤ãƒ¤ãƒ¼ã‚’ã‚¯ãƒªãƒƒã‚¯ â†’ 1ã¤ç›®ã® Action Value Xã€2ã¤ç›®ã® Action Value Y
3. ä¸¡æ–¹ãŒåŒã˜ IA_Move ãƒãƒ¼ãƒ‰ã‹ç¢ºèª â†’ ä¸¡æ–¹ãŒåŒã˜


  | é †ç•ª | ã‚­ãƒ¼ | Action Value X | Action Value Y |
  |------|------|----------------|----------------|
  | 1    | W    | 0              | 1              |
  | 2    | A    | 1              | 0              |
  | 3    | S    | 1              | 0              |



1. Action Value X
2. Action Value Y


  | ã‚­ãƒ¼ | æœŸå¾…ã™ã‚‹å‹•ä½œ | ç¢ºèªçµæœ |
  |------|--------------|----------|
  | W    | ä¸Šã«ç§»å‹•     | X=0, Y=1  |
  | S    | ä¸‹ã«ç§»å‹•     | X=1, Y=0        |
  | A    | å·¦ã«ç§»å‹•     | X=1, Y=0        |
  | D    | å³ã«ç§»å‹•     | X=1, Y=0        |

  1. ASDã§ç§»å‹•ã™ã‚‹
  2. ä¸Šä¸‹ã¯æ­¢ã¾ã‚‰ãšã«ä¸Šç§»å‹•ã®å ´åˆã¯ã€ä¸‹ç§»å‹•ã«å¤‰ã‚ã‚‹ã€‚ã€‚ä¸‹ç§»å‹•ã®å ´åˆã¯ä¸Šç§»å‹•ã«å¤‰ã‚ã‚‹ã€‚ å·¦å³ã¯å£ã‚’è¶…ãˆã¦ç§»å‹•ã™ã‚‹æ­¢ã¾ã‚‰ãªã„ã€‚
     1. è…°ã®ã‚ãŸã‚Šã‹ã‚‰æ³•ç·šãŒå‡ºã¦ã„ã‚‹ã®ã§ã€ä¸Šç§»å‹•ã®å ´åˆã¯ã€è…°ã®ä½ç½®ã¾ã§ç§»å‹•ã—ã¦ã‹ã‚‰ä¸‹ç§»å‹•ã«å¤‰ã‚ã‚‹ã€‚



  3. å£ã®ç«¯ï¼ˆå·¦å³ãƒ»ä¸Šä¸‹ï¼‰ã«åˆ°é”ã—ãŸæ™‚ï¼š
    - å£ã‚’è¶…ãˆã¦ç§»å‹•ã—ç¶šã‘ã‚‹ã‹ï¼Ÿ â†’ æ­¢ã¾ã‚‹ã¹ã
    - å£ã®è¡¨é¢ã«æ²¿ã£ã¦ç§»å‹•ã§ãã‚‹ã‹ï¼Ÿ
  

- WASD ã‚’æŠ¼ã—ã¦ã„ã‚‹é–“ã ã‘ç§»å‹•ã™ã‚‹ã‹ â†’ ç§»å‹•ã™ã‚‹
- ã‚­ãƒ¼ã‚’é›¢ã™ã¨åœæ­¢ã™ã‚‹ã‹ â†’ åœæ­¢ã—ãªã„

1. ç§»å‹•ã™ã‚‹ã€‚
2. ç§»å‹•ã¯åœæ­¢ã™ã‚‹ãŒã€ã‚­ãƒ£ãƒ©ã‚¯ã‚¿ãƒ¼ãŒå£ã«å¸ç€ã—ãŸä½ç½®ã«ç§»å‹•ã™ã‚‹ã€‚
   1. å†åº¦ã€åŒã˜ç§»å‹•ã‚­ãƒ¼ã‚’æŠ¼ã™ã¨ã€ä»¥å‰ç§»å‹•ã—ãŸä½ç½®ã‹ã‚‰ç§»å‹•ã™ã‚‹


  1. å£ã«å¸ç€ã—ã¦ WASD ã§ç§»å‹•: ç§»å‹•ã™ã‚‹
  2. ã‚­ãƒ¼ã‚’é›¢ã—ãŸæ™‚ï¼š
    - ã‚­ãƒ£ãƒ©ã‚¯ã‚¿ãƒ¼ãŒç§»å‹•ã—ãŸä½ç½®ã§åœæ­¢ã™ã‚‹ã‹ï¼Ÿ: ç§»å‹•ã—ãŸä½ç½®ã§åœæ­¢ã—ãªã„
    - å…ƒã®å¸ç€ä½ç½®ã«æˆ»ã‚‰ãªã„ã‹ï¼Ÿ: å¸ç€ã—ãŸä½ç½®ã«æˆ»ã‚‹



1. å£ã«å¸ç€: å¸ç€ã™ã‚‹
2. WASD ã§ç§»å‹•ï¼ˆWallHitLocatio ã®å€¤ãŒå¤‰åŒ–ã™ã‚‹ã‹ç¢ºèªï¼‰: ç§»å‹•ã¯ã™ã‚‹ãŒã€ **WallHitLocatio ã®å€¤ãŒå¤‰åŒ–ã—ãªã„**
3. ã‚­ãƒ¼ã‚’é›¢ã™
4. Output Log ã§ï¼š
 - ã€ŒNo input - skipping Line Traceã€ãŒè¡¨ç¤ºã•ã‚Œã‚‹ã‹: è¡¨ç¤ºã•ã‚Œã‚‹
 - WallHitLocatio ã®å€¤ãŒã‚­ãƒ¼ã‚’é›¢ã—ãŸå¾Œã‚‚ç¶­æŒã•ã‚Œã¦ã„ã‚‹ã‹: ç¶­æŒã¯ã•ã‚Œã¦ã„ã‚‹ãŒã€ **WASD ã§ç§»å‹•æ™‚ã« WallHitLocatio ã®å€¤ãŒå¤‰åŒ–ã—ã¦ã„ãªã„**



@Content\FreeAnimationLibrary\Animations\Climbing_Animations\Climbing\ ã®ã‚¢ãƒ‹ãƒ¡ãƒ¼ã‚·ãƒ§ãƒ³ã® Enable Root Motion ã« ãƒã‚§ãƒƒã‚¯ã‚’å…¥ã‚Œã¾ã—ãŸãŒå•é¡Œã‚ã‚Šã¾ã›ã‚“ã‹ï¼Ÿ

@Content\FreeAnimationLibrary\Animations\Climbing_Animations\Climbing\anim_Climb_Down_Right.uasset
@Content\FreeAnimationLibrary\Animations\Climbing_Animations\Climbing\anim_Climb_Down.uasset
@Content\FreeAnimationLibrary\Animations\Climbing_Animations\Climbing\anim_Climb_Left.uasset
@Content\FreeAnimationLibrary\Animations\Climbing_Animations\Climbing\anim_Climb_Right.uasset
@Content\FreeAnimationLibrary\Animations\Climbing_Animations\Climbing\anim_Climb_Up_Left.uasset
@Content\FreeAnimationLibrary\Animations\Climbing_Animations\Climbing\anim_Climb_Up_Right.uasset
@Content\FreeAnimationLibrary\Animations\Climbing_Animations\Climbing\anim_Climb_Up.uasset

ä¸Šè¨˜ã® Enable Root Motion ã« ãƒã‚§ãƒƒã‚¯ã‚’å…¥ã‚Œã¾ã—ãŸãŒå•é¡Œã‚ã‚Šã¾ã›ã‚“ã‹ï¼Ÿ


- Line Trace HIT ãŒè¡¨ç¤ºã•ã‚Œãªã„
- WASD ç§»å‹•æ™‚ã« Line Trace MISSED ãŒè¡¨ç¤ºã•ã‚Œã‚‹
- WASD ç§»å‹•æ™‚ã¯ Input detected - doing Line Trace ãŒè¡¨ç¤ºã•ã‚Œã‚‹ 

  1. å£ã«å¼µã‚Šä»˜ã: å£ã«å¸ç€ã™ã‚‹
  2. WASD ã§ç§»å‹•: ç§»å‹•ã™ã‚‹ã€‚ **ãŸã ã—CapsuleãŒç§»å‹•ã—ãªã„**
  3. Line Trace HIT ãŒè¡¨ç¤ºã•ã‚Œã‚‹ã‹ç¢ºèª: Line Trace HIT ã¯è¡¨ç¤ºã•ã‚Œãšã€WASD ç§»å‹•æ™‚ã« Line Trace MISSED ãŒè¡¨ç¤ºã•ã‚Œã‚‹
  4. ã‚­ãƒ£ãƒ©ã‚¯ã‚¿ãƒ¼ãŒå£ã«æ²¿ã£ã¦ç§»å‹•ã™ã‚‹ã‹ç¢ºèª : å£ã‚’è¶…ãˆã¦ç§»å‹•ã™ã‚‹

  | ç¢ºèªé …ç›®                         | æœŸå¾…çµæœ |
  |----------------------------------|----------|
Line Trace HIT ãŒè¡¨ç¤ºã•ã‚Œã‚‹: **å£å¸ç€æ™‚ã«ã¯è¡¨ç¤ºã•ã‚Œãªã„** ãŒã€WASD ç§»å‹•æ™‚ã«è¡¨ç¤ºã•ã‚Œã‚‹
ã‚­ãƒ£ãƒ©ã‚¯ã‚¿ãƒ¼ãŒå£ã«æ²¿ã£ã¦ç§»å‹•ã™ã‚‹: ç§»å‹•ã™ã‚‹
å£ã‚’è¶…ãˆã¦ç§»å‹•ã—ãªã„: å£ã‚’è¶…ãˆã¦ç§»å‹•ã™ã‚‹ **ãŸã ã—å£ã‚’è¶…ãˆãŸã¨ãã«ã¯ã€Capsule ã®ç§»å‹•ã¯åœæ­¢ã™ã‚‹**
Capsule ã‚‚ä¸€ç·’ã«ç§»å‹•ã™ã‚‹: **Capsule ã‚‚ä¸€ç·’ã«ç§»å‹•ã™ã‚‹ãŒã€Mesh ã®ç§»å‹•ã‚ˆã‚Šé…ã„**


  | è¨­å®šé …ç›®                                | ç¾åœ¨ã®å€¤ |
  |-----------------------------------------|----------|
  | ABP ã® Root Motion Mode                 | No Root Motion Extraction        |
  | LocationInterpSpeed                     | 100.0        |
  | BP_ThirdPersonCharacter â†’ Mesh            | Root Motion Mode | è¦‹å½“ãŸã‚‰ãªã„        |



S ã‚­ãƒ¼ï¼ˆä¸‹é™ï¼‰: é»„è‰²ã® Line Trace ãŒä¸‹æ–¹å‘ã«è¡¨ç¤º           |
åºŠã«è¿‘ã¥ã: ã‚¯ãƒ©ã‚¤ãƒŸãƒ³ã‚°ãŒçµ‚äº†ï¼ˆReleaseFromWallï¼‰ã™ã‚‹ãŒã€ **åºŠã‚’é€šã‚ŠæŠœã‘ã¦è½ä¸‹ã™ã‚‹**
W ã‚­ãƒ¼ï¼ˆä¸Šæ˜‡ï¼‰: èµ¤ã„ Line Trace ãŒå£æ–¹å‘ã«è¡¨ç¤ºï¼ˆé»„è‰²ãªã—ï¼‰
A/D ã‚­ãƒ¼ï¼ˆæ°´å¹³ï¼‰: èµ¤ã„ Line Trace ãŒå£æ–¹å‘ã«è¡¨ç¤ºï¼ˆé»„è‰²ãªã—ï¼‰


Asset Details ãƒ‘ãƒãƒ«ã§ä»¥ä¸‹ã‚’ç¢ºèªï¼š
- Enable Root Motion ã«ãƒã‚§ãƒƒã‚¯ãŒå…¥ã£ã¦ã„ã‚‹ã‹: ãƒã‚§ãƒƒã‚¯ãŒå…¥ã£ã¦ã„ã‚‹
- Root Motion Root Lock ã®è¨­å®š: Ref Pose
- Force Root Lock ã®è¨­å®š: OFF
1. Enable Root Motion ã®çŠ¶æ…‹: ON
2. Force Root Lock ã®çŠ¶æ…‹: Ref Pose
3. Root Motion Root Lock ã®å€¤: OFF

- W ã‚­ãƒ¼ã‚’æŠ¼ã—ãŸã¨ã: X = 0, Y = 1
- A ã‚­ãƒ¼ã‚’æŠ¼ã—ãŸã¨ã: X = 1, Y = 0
- S ã‚­ãƒ¼ã‚’æŠ¼ã—ãŸã¨ã: X = 1, Y = 0
- D ã‚­ãƒ¼ã‚’æŠ¼ã—ãŸã¨ã: X = 1, Y = 0


- IsAtClimbTop= false
- bIsClimbing= true


æœŸå¾…ã•ã‚Œã‚‹è¡¨ç¤ºãƒ¡ãƒƒã‚»ãƒ¼ã‚¸
å£ã®ç«¯ã«åˆ°é”ã—ãŸã¨ãï¼ˆLine Trace MISSED å¾Œï¼‰:

çŠ¶æ³	æœŸå¾…ã•ã‚Œã‚‹ãƒ¡ãƒƒã‚»ãƒ¼ã‚¸
å£ã®ç«¯ã«åˆ°é”	Line Trace MISSED
å†…å´ã‚³ãƒ¼ãƒŠãƒ¼ãƒã‚§ãƒƒã‚¯é–‹å§‹	CheckInnerCorner: Called
å†…å´ã‚³ãƒ¼ãƒŠãƒ¼æ¤œå‡º	CheckInnerCorner: HIT - Inner Corner Found
å†…å´ã‚³ãƒ¼ãƒŠãƒ¼æœªæ¤œå‡º	CheckInnerCorner: MISS - No Inner Corner
å¤–å´ã‚³ãƒ¼ãƒŠãƒ¼ãƒã‚§ãƒƒã‚¯é–‹å§‹	Helloï¼ˆCheckOuterCorner: Called æ¨å¥¨ï¼‰
å¤–å´ã‚³ãƒ¼ãƒŠãƒ¼æ¤œå‡º	CheckOuterCorner: No Wall - Outer Corner Found!
å¤–å´ã‚³ãƒ¼ãƒŠãƒ¼æœªæ¤œå‡º	CheckOuterCorner: Wall Found - NOT Outer Corner
**å†åº¦ã€å‹•ç”»å…¨ã¦ã‚’åˆ†æã‚’å®Ÿæ–½ã—ã¦ã€ã©ã®ãƒ¡ãƒƒã‚»ãƒ¼ã‚¸ãŒè¡¨ç¤ºã•ã‚Œã‚‹ã‹æ•™ãˆã¦ãã ã•ã„ã€‚**

ä»Šåº¦ã¯è¡¨ç¤ºã•ã‚Œã‚‹ã¯ãšã®ãƒ¡ãƒƒã‚»ãƒ¼ã‚¸
çŠ¶æ³	æœŸå¾…ã•ã‚Œã‚‹ãƒ¡ãƒƒã‚»ãƒ¼ã‚¸
å£ã®ç«¯ã«åˆ°é”	Line Trace MISSED
å†…å´ã‚³ãƒ¼ãƒŠãƒ¼ãƒã‚§ãƒƒã‚¯é–‹å§‹	CheckInnerCorner: Called â† ä»Šåº¦ã¯è¡¨ç¤ºã•ã‚Œã‚‹ã¯ãš
å†…å´ã‚³ãƒ¼ãƒŠãƒ¼æ¤œå‡º	CheckInnerCorner: HIT - Inner Corner Found
å†…å´ã‚³ãƒ¼ãƒŠãƒ¼æœªæ¤œå‡º	CheckInnerCorner: MISS - No Inner Corner
å¤–å´ã‚³ãƒ¼ãƒŠãƒ¼ãƒã‚§ãƒƒã‚¯é–‹å§‹	Hello
å¤–å´ã‚³ãƒ¼ãƒŠãƒ¼æ¤œå‡º	CheckOuterCorner: No Wall - Outer Corner Found!
å¤–å´ã‚³ãƒ¼ãƒŠãƒ¼æœªæ¤œå‡º	CheckOuterCorner: Wall Found - NOT Outer Corner
**å‹•ç”»å…¨ã¦ã‚’åˆ†æã‚’å®Ÿæ–½ã—ã¦ã€ã©ã®ãƒ¡ãƒƒã‚»ãƒ¼ã‚¸ãŒè¡¨ç¤ºã•ã‚Œã‚‹ã‹æ•™ãˆã¦ãã ã•ã„ã€‚**
å‹•ç”»ãƒ•ã‚¡ã‚¤ãƒ«ï¼ˆ`2026-01-17 09-55-59.mp4`ï¼‰ã‚’åˆ†æã—ã¾ã—ãŸã€‚

ä»Šå›ã¯ã€å‰å›è¡¨ç¤ºã•ã‚Œã¦ã„ãªã‹ã£ãŸãƒ‡ãƒãƒƒã‚°ãƒ¡ãƒƒã‚»ãƒ¼ã‚¸ï¼ˆ`Hello`ã‚„`CheckOuterCorner...`ãªã©ï¼‰ãŒæ˜ç¢ºã«ç¢ºèªã§ãã¾ã—ãŸã€‚ãŸã ã—ã€**ã€Œå¤–å´ã‚³ãƒ¼ãƒŠãƒ¼ï¼ˆå‡¸ï¼‰ã€ã¨ã€Œå†…å´ã‚³ãƒ¼ãƒŠãƒ¼ï¼ˆå‡¹ï¼‰ã€ã§çµæœãŒå¤§ããç•°ãªã‚Šã¾ã™ã€‚**

ä»¥ä¸‹ã«ã€ã‚­ãƒ£ãƒ©ã‚¯ã‚¿ãƒ¼ã®å‹•ä½œåˆ¥ã«è¡¨ç¤ºã•ã‚ŒãŸãƒ¡ãƒƒã‚»ãƒ¼ã‚¸ã‚’ä¸€è¦§ã«ã—ã¾ã™ã€‚

---

### ãƒ‡ãƒãƒƒã‚°ãƒ­ã‚°è¡¨ç¤ºåˆ†æçµæœ

#### 1. å¤–å£ãƒ»å³ç§»å‹•æ™‚ã®ã‚³ãƒ¼ãƒŠãƒ¼æ¤œçŸ¥ï¼ˆ00:21 ä»˜è¿‘ï¼‰

ã‚­ãƒ£ãƒ©ã‚¯ã‚¿ãƒ¼ãŒå£ã®å³ç«¯ï¼ˆå‡¸ã‚³ãƒ¼ãƒŠãƒ¼ï¼‰ã«åˆ°é”ã—ãŸéš›ã€ä¸€ç¬ã§ä»¥ä¸‹ã®ãƒ¡ãƒƒã‚»ãƒ¼ã‚¸ãƒ­ã‚°ãŒç©ã¿ä¸ŠãŒã‚Šã¾ã—ãŸã€‚
ç”»é¢ä¸Šã®**ä¸Šã‹ã‚‰ä¸‹ï¼ˆæ–°ã—ã„é †ï¼‰**ã®è¡¨ç¤ºã¯ä»¥ä¸‹ã®é€šã‚Šã§ã™ã€‚

| è¡¨ç¤ºé † | ãƒ¡ãƒƒã‚»ãƒ¼ã‚¸è‰² | ãƒ¡ãƒƒã‚»ãƒ¼ã‚¸å†…å®¹ | æ„å‘³ãƒ»åˆ†æ |
| --- | --- | --- | --- |
| **1 (æœ€æ–°)** | **ç·‘** | **CheckOuterCorner: No Wall - Outer Corner Found!** | **å¤–å´ã‚³ãƒ¼ãƒŠãƒ¼æ¤œçŸ¥æˆåŠŸï¼** |
| **2** | **é’** | **Hello** | å¤–å´ãƒã‚§ãƒƒã‚¯é–‹å§‹ (`CheckOuterCorner` é–‹å§‹) |
| **3** | **é»„** | **CheckInnerCorner: MISS - No Inner Corner** | å†…å´ã‚³ãƒ¼ãƒŠãƒ¼ã¯è¦‹ã¤ã‹ã‚‰ãªã‹ã£ãŸ |
| **4** | **ç·‘** | **CheckInnerCorner: Called** | å†…å´ãƒã‚§ãƒƒã‚¯é–‹å§‹ |
| **5 (æœ€åˆ)** | **èµ¤** | **Line Trace MISSED** | å£ãŒãªããªã£ãŸï¼ˆãƒˆãƒªã‚¬ãƒ¼ï¼‰ |

* **å‹•ä½œ:** ã“ã®ç›´å¾Œã€ã‚³ãƒ¼ãƒŠãƒ¼ç§»å‹•å‡¦ç†ãŒãªã„ãŸã‚ã‚­ãƒ£ãƒ©ã‚¯ã‚¿ãƒ¼ã¯è½ä¸‹ã—ã¾ã™ã€‚
* **çµè«–:** å¤–å´ã‚³ãƒ¼ãƒŠãƒ¼ï¼ˆOuter Cornerï¼‰ã®ãƒ­ã‚¸ãƒƒã‚¯ã¯å®Œç’§ã«å‹•ä½œã—ã€å…¨ã¦ã®ãƒ¡ãƒƒã‚»ãƒ¼ã‚¸ãŒæœŸå¾…é€šã‚Šè¡¨ç¤ºã•ã‚Œã¦ã„ã¾ã™ã€‚

---

#### 2. å¤–å£ãƒ»å·¦ç§»å‹•æ™‚ã®ã‚³ãƒ¼ãƒŠãƒ¼æ¤œçŸ¥ï¼ˆ00:36 ä»˜è¿‘ï¼‰

å·¦å´ã®å£ç«¯ã«åˆ°é”ã—ãŸéš›ã‚‚ã€å³ç§»å‹•ã¨åŒæ§˜ã«æ­£å¸¸ã«æ¤œçŸ¥ã•ã‚Œã¦ã„ã¾ã™ã€‚

| è¡¨ç¤ºé † | ãƒ¡ãƒƒã‚»ãƒ¼ã‚¸è‰² | ãƒ¡ãƒƒã‚»ãƒ¼ã‚¸å†…å®¹ |
| --- | --- | --- |
| **1 (æœ€æ–°)** | **ç·‘** | **CheckOuterCorner: No Wall - Outer Corner Found!** |
| **2** | **é’** | **Hello** |
| **3** | **é»„** | **CheckInnerCorner: MISS - No Inner Corner** |
| **4** | **ç·‘** | **CheckInnerCorner: Called** |
| **5 (æœ€åˆ)** | **èµ¤** | **Line Trace MISSED** |

---

#### 3. å†…å£ãƒ»å³ç§»å‹•ï¼ˆ00:46 ä»˜è¿‘ï¼‰ãŠã‚ˆã³ å·¦ç§»å‹•ï¼ˆ00:55 ä»˜è¿‘ï¼‰

**ã“ã“ã§ã¯æœŸå¾…ã•ã‚Œã‚‹ãƒ¡ãƒƒã‚»ãƒ¼ã‚¸ãŒè¡¨ç¤ºã•ã‚Œã¾ã›ã‚“ã§ã—ãŸã€‚**
ã‚­ãƒ£ãƒ©ã‚¯ã‚¿ãƒ¼ãŒéƒ¨å±‹ã®éš…ï¼ˆå‡¹ã‚³ãƒ¼ãƒŠãƒ¼ï¼‰ã«åˆ°é”ã—ã¾ã—ãŸãŒã€ãƒ­ã‚°ã¯ä»¥ä¸‹ã®ã€Œå£å¸ç€ä¸­ã€ã®çŠ¶æ…‹ã‹ã‚‰å¤‰åŒ–ã—ã¾ã›ã‚“ã§ã—ãŸã€‚

| è¡¨ç¤ºé † | ãƒ¡ãƒƒã‚»ãƒ¼ã‚¸è‰² | ãƒ¡ãƒƒã‚»ãƒ¼ã‚¸å†…å®¹ | çŠ¶æ…‹ |
| --- | --- | --- | --- |
| **ç¶­æŒ** | **é’/èµ¤** | **Line Trace HIT** | å£ã‚’æ¤œå‡ºã—ç¶šã‘ã¦ã„ã‚‹ |

* **ãªãœè¡¨ç¤ºã•ã‚Œãªã„ã®ã‹ï¼Ÿï¼ˆé‡è¦ï¼‰**
* ç¾åœ¨ã®ãƒ­ã‚¸ãƒƒã‚¯ï¼ˆå‹•ç”»æœ€å¾Œã®BPå‚ç…§ï¼‰ã§ã¯ã€`Line Trace` ãŒ **MISSEDï¼ˆå¤±æ•—ï¼‰** ã—ãªã„ã¨ã€ã‚³ãƒ¼ãƒŠãƒ¼æ¤œçŸ¥å‡¦ç†ï¼ˆ`CheckInnerCorner`ï¼‰ã¸åˆ†å²ã—ã¾ã›ã‚“ã€‚
* å†…å´ã‚³ãƒ¼ãƒŠãƒ¼ï¼ˆå‡¹å½¢çŠ¶ï¼‰ã®å ´åˆã€é€²è¡Œæ–¹å‘ã®ãƒˆãƒ¬ãƒ¼ã‚¹ã¯ã€Œç¾åœ¨ç™»ã£ã¦ã„ã‚‹å£ã€ã‹ã‚‰å¤–ã‚Œã¦ã‚‚ã€å³åº§ã«ã€Œéš£ã®å£ï¼ˆç›´è§’ã«ã‚ã‚‹å£ï¼‰ã€ã« **HIT** ã—ã¦ã—ã¾ã„ã¾ã™ã€‚
* ãã®ãŸã‚ã€ã‚·ã‚¹ãƒ†ãƒ ã¯ã€Œã¾ã å£ãŒç¶šã„ã¦ã„ã‚‹ã€ã¨åˆ¤æ–­ã—ã€`Line Trace MISSED` ã«ãªã‚‰ãšã€ã‚³ãƒ¼ãƒŠãƒ¼æ¤œçŸ¥ãƒ­ã‚¸ãƒƒã‚¯ãŒå‘¼ã³å‡ºã•ã‚Œã¦ã„ã¾ã›ã‚“ã€‚



---

### ã¾ã¨ã‚

ãƒ¦ãƒ¼ã‚¶ãƒ¼æ§˜ã®ãƒªã‚¯ã‚¨ã‚¹ãƒˆã«åŸºã¥ãã€è¡¨ç¤ºã•ã‚ŒãŸãƒ¡ãƒƒã‚»ãƒ¼ã‚¸ã‚’æ•´ç†ã—ã¾ã—ãŸã€‚

1. **å¤–å´ã‚³ãƒ¼ãƒŠãƒ¼ï¼ˆå‡¸ï¼‰:**
* æœŸå¾…ã•ã‚Œã‚‹ãƒ¡ãƒƒã‚»ãƒ¼ã‚¸ã¯ **å…¨ã¦è¡¨ç¤ºã•ã‚Œã¾ã—ãŸ**ã€‚
* è¡¨ç¤ºé †ï¼ˆç”»é¢ä¸Šã‹ã‚‰ï¼‰ï¼š`Outer Found!` -> `Hello` -> `Inner Miss` -> `Inner Called` -> `Trace MISSED`


2. **å†…å´ã‚³ãƒ¼ãƒŠãƒ¼ï¼ˆå‡¹ï¼‰:**
* æœŸå¾…ã•ã‚Œã‚‹ãƒ¡ãƒƒã‚»ãƒ¼ã‚¸ã¯ **ä¸€ã¤ã‚‚è¡¨ç¤ºã•ã‚Œã¾ã›ã‚“ã§ã—ãŸ**ã€‚
* å¸¸ã« `Line Trace HIT` ãŒè¡¨ç¤ºã•ã‚Œç¶šã‘ã¾ã—ãŸã€‚



**æ¬¡ã®ã‚¹ãƒ†ãƒƒãƒ—:**
å†…å´ã‚³ãƒ¼ãƒŠãƒ¼ã‚’æ¤œçŸ¥ã™ã‚‹ãŸã‚ã«ã¯ã€`Line Trace HIT` ã®çŠ¶æ…‹ã§ã‚‚ã€ã€Œç¾åœ¨ã®å£ã¨ã®è§’åº¦ã€ã‚„ã€Œæ³•ç·šï¼ˆNormalï¼‰ã®å¤‰åŒ–ã€ã‚’æ¤œçŸ¥ã—ã¦ `CheckInnerCorner` ã‚’å‘¼ã³å‡ºã™ã‚ˆã†ãªãƒ­ã‚¸ãƒƒã‚¯ã®è¿½åŠ ãŒå¿…è¦ã«ãªã‚‹ã¨æ€ã‚ã‚Œã¾ã™ã€‚



æ·»ä»˜ã—ãŸå‹•ç”»ã¯å†…å´ã‚³ãƒ¼ãƒŠãƒ¼ç§»å‹•ã®å‹•ç”»ã§ã™ã€‚ä»¥ä¸‹ã‚’ç¢ºèªã—ã¦

ãƒ†ã‚¹ãƒˆç¢ºèªé …ç›®
å†…å´ã‚³ãƒ¼ãƒŠãƒ¼ã«å‘ã‹ã£ã¦ç§»å‹•ï¼ˆA ã¾ãŸã¯ D ã‚­ãƒ¼ï¼‰
ã€ŒCorner Transition: Distance < Threshold!ã€ ãƒ¡ãƒƒã‚»ãƒ¼ã‚¸ãŒè¡¨ç¤ºã•ã‚Œã‚‹ã‹
ã‚­ãƒ£ãƒ©ã‚¯ã‚¿ãƒ¼ãŒæ¬¡ã®å£ã‚’å‘ã„ã¦å›è»¢ã™ã‚‹ã‹
å£ã‹ã‚‰é©åˆ‡ãªè·é›¢ï¼ˆWallOffset = 40ï¼‰ã§å¸ç€ã™ã‚‹ã‹
å£ã®ç¸ã§ã¯ãªãã€é©åˆ‡ãªä½ç½®ã«ç§»å‹•ã™ã‚‹ã‹


Step 2: æ¬¡ã®å£ã‚’æ¢ã™
â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€
           Start
             â”‚
    â”€â”€â”€â”€â”€â”€â”€â”€â”€â”    â”‚
              â”‚â†â”€â”€â”˜ Line Traceï¼ˆå£Aã®å‰æ–¹ + ç§»å‹•æ–¹å‘ã«ã‚ªãƒ•ã‚»ãƒƒãƒˆï¼‰
              â”‚
              â”‚ å£B ã«ãƒ’ãƒƒãƒˆï¼



æ·»ä»˜ã—ãŸç”»åƒã¯å¤–å´ã‚³ãƒ¼ãƒŠãƒ¼ã‚’ç§»å‹•ã™ã‚‹ãŸã‚ã®æ¬¡ã®å£ã®æ¤œå‡ºã‚’ã™ã‚‹ãƒ†ã‚¹ãƒˆã§ã™ã€‚
ä»¥ä¸‹ã‚’ç¢ºèªï¼š
ã€ŒEdge detected, searching next wall...ã€ãŒè¡¨ç¤ºã•ã‚Œã‚‹
ã€ŒNext wall found! Transitioning...ã€ãŒè¡¨ç¤ºã•ã‚Œã‚‹
ã‚­ãƒ£ãƒ©ã‚¯ã‚¿ãƒ¼ãŒæ¬¡ã®å£ã«å›ã‚Šè¾¼ã‚€
ã‚­ãƒ£ãƒ©ã‚¯ã‚¿ãƒ¼ã®å›è»¢ãŒæ­£ã—ãé©ç”¨ã•ã‚Œã‚‹


[ç¾åœ¨ã®å£]          [æ¬¡ã®å£]
    |                  |
    |    Start ------> | â† Endï¼ˆæ¬¡ã®å£ã«ãƒ’ãƒƒãƒˆï¼‰
    |      â†‘           |
    |   ç§»å‹•æ–¹å‘       |
    |      |           |
   [ã‚­ãƒ£ãƒ©ã‚¯ã‚¿ãƒ¼]

       [æ¬¡ã®å£]
           |
           |  â† 2nd Traceï¼ˆå£ã«ãƒ’ãƒƒãƒˆï¼‰
           |
    Start2 â—----â†’ End2
           â†‘
           | 1st Traceï¼ˆå£ãŒç„¡ã„ = ç«¯ã‚’æ¤œå‡ºï¼‰
           |
    Start1 â—----â†’ End1 (MISS)
           |
    [ç¾åœ¨ã®å£]
           |
     [ã‚­ãƒ£ãƒ©ã‚¯ã‚¿ãƒ¼]

    [ç¾åœ¨ã®å£]        [æ¬¡ã®å£]
         |               |
         |               |
         |    2nd End    |
         |       â†“       |
         |    â—â†â†â†â†â†â†â—   |
         |   2nd Start   |  â† 2nd Traceï¼ˆç§»å‹•æ–¹å‘ã®åå¯¾ã¸ã€æ¬¡ã®å£ã«ãƒ’ãƒƒãƒˆï¼‰
         |       â†‘       |
         |  OuterCornerOffset
         |       â†‘       |
    End1 â—----â†’ 1st (MISS) â† 1st Traceï¼ˆç§»å‹•æ–¹å‘ã¸ã€ç«¯ã‚’æ¤œå‡ºï¼‰
         |               
    Start1ï¼ˆã‚­ãƒ£ãƒ©ã‚¯ã‚¿ãƒ¼ä½ç½®ï¼‰
         |


**è¨­è¨ˆãŒé–“é•ã£ã¦ã„ã¾ã™**
å†åº¦ã€æ–‡å­—ã§ç¤ºã—ã¾ã™ã€‚
- 1st Trace Line
  - 1st Trace Line ã® Start ã¯ **ã‚­ãƒ£ãƒ©ã‚¯ã‚¿ãƒ¼ç§»å‹•æ–¹å‘ã¸æ•°åã‚»ãƒ³ãƒã‚ªãƒ•ã‚»ãƒƒãƒˆã—ãŸä½ç½®**
  - 1st Trace Line ã® End ã¯ Start ã‹ã‚‰ã‚­ãƒ£ãƒ©ã‚¯ã‚¿ãƒ¼ã®å‰æ–¹æ–¹å‘ã¸æ•°åã‚»ãƒ³ãƒ
- 2nd Trace Line
  - 2nd Trace Line ã® Start 1st Trace Line ã® End
  - 2nd Trace Line ã® End ã¯ Start ã‹ã‚‰ç§»å‹•æ–¹å‘ã®åå¯¾ã¸æ•°åã‚»ãƒ³ãƒ

```
               [ç¾åœ¨ã®å£]
                   |
                   | 
                   | 
                   |
     ã‚­ãƒ£ãƒ©ã‚¯ã‚¿ãƒ¼ â— |
           |       +------â—----[æ¬¡ã®å£]   
           |       |       â†‘
ç§»å‹•æ–¹å‘ã«ã‚ªãƒ•ã‚»ãƒƒãƒˆ |       |     Endï¼ˆæ¬¡ã®å£ã«ãƒ’ãƒƒãƒˆï¼‰ 
           |       | 2nd Tsraceï¼ˆç§»å‹•æ–¹å‘ã®åå¯¾ã¸ã€æ¬¡ã®å£ã«ãƒ’ãƒƒãƒˆï¼‰
1st Trace(Start)  -------â—Start
```

æ·»ä»˜ã—ãŸå‹•ç”»ã¯å¤–å´ã‚³ãƒ¼ãƒŠãƒ¼æ¤œå‡ºã®ãŸã‚ã®ãƒ†ã‚¹ãƒˆã§ã™ã€‚
ç”»åƒã‚’è§£æã—ã¦ "MoveDirection:" ã®æ–‡å­—åˆ—ãŒå«ã¾ã‚Œã‚‹ãƒ¡ãƒƒã‚»ãƒ¼ã‚¸ã‚’æ¤œå‡ºã—ã¦ç¤ºã—ã¦

å£ç§»å‹•ã§å¤–ã‚³ãƒ¼ãƒŠãƒ¼ã‚’æ¤œå‡ºã—ã¦ã€æ¬¡ã®å£ã¸ç§»å‹•ã™ã‚‹ãƒ†ã‚¹ãƒˆã§ã™ã€‚
å‹•ç”»ã‚’åˆ†æã—ã¦æ–‡æ›¸ã¨ã—ã¦è¡¨ã—ã¦

å‡¦ç†ã®ãƒ•ãƒ­ãƒ¼ã‚’ã‚’ç¢ºèªã—ã¾ã™ã€‚ä»¥ä¸‹ã§èªè­˜ã¯æ­£ã—ã„ã§ã™ã‹ï¼Ÿ
1. ç¾åœ¨ã®å£Aã®çµ‚ç«¯ã‚’æ¤œå‡º
2. å¤–å´ã‚³ãƒ¼ãƒŠãƒ¼ã®æ¬¡ã®å£Bã‚’æ¤œå‡ºã™ã‚‹ãŸã‚ã«ã€ã‚­ãƒ£ãƒ©ã‚¯ã‚¿ãƒ¼ç§»å‹•æ–¹å‘ã¸ + ã‚ªãƒ•ã‚»ãƒƒãƒˆã—ãŸä½ç½®ã‹ã‚‰ 1st Trace Start
3. 1st Trace End ä½ç½®ã‚’ 2nd Trace Start ã«ã™ã‚‹
4. 2nd Trace End ã¯ ã‚­ãƒ£ãƒ©ã‚¯ã‚¿ãƒ¼ç§»å‹•æ–¹å‘ã®åå¯¾ã¸ç™ºå°„


å‹•ç”»ã‚’åˆ†æã—ã¦ã€ä»¥ä¸‹ã®ãƒ¡ãƒƒã‚»ãƒ¼ã‚¸ãŒè¡¨ç¤ºã•ã‚Œã¦ã„ã‚‹ã‹ç¢ºèªã—ã¦ãã ã•ã„ã€‚

1. "Line Trace MISSED" ï¼ˆãƒ”ãƒ³ã‚¯è‰²ï¼‰
2. "CheckOuterCornerByDistance: CalledHello" ï¼ˆã‚ªãƒ¬ãƒ³ã‚¸è‰²ï¼‰
3. "Outer Corner: Edge detected, searching next wall..." ï¼ˆé»„è‰²ï¼‰
4. "Outer Corner: Next wall found! Transitioning..." ï¼ˆç·‘è‰²ï¼‰

å‹•ç”»ã‚’åˆ†æã—ã¦ã€ä»¥ä¸‹ã®ãƒ¡ãƒƒã‚»ãƒ¼ã‚¸ãŒè¡¨ç¤ºã•ã‚Œã¦ã„ã‚‹ã‹ç¢ºèªã—ã¦ãã ã•ã„ã€‚
"Moving to: X=[åº§æ¨™] Y=[åº§æ¨™] Z=[åº§æ¨™]" (ç´«è‰²)


å‹•ç”»ã‚’åˆ†æã—ã¦ã€ä»¥ä¸‹ã®ãƒ¡ãƒƒã‚»ãƒ¼ã‚¸ãŒè¡¨ç¤ºã•ã‚Œã¦ã„ã‚‹ã‹ç¢ºèªã—ã¦ãã ã•ã„ã€‚è¡¨ç¤ºã•ã‚Œã¦ã„ã‚Œã°ã€ãƒ¡ãƒƒã‚»ãƒ¼ã‚¸ã‚’ç¤ºã—ã¦
1. "Outer Corner: Next wall found! Transitioning..."ï¼ˆç·‘ï¼‰
2. "Distance: [å®Ÿéš›ã®è·é›¢å€¤]"ï¼ˆç™½ï¼‰
3. "MaxCornerDistance: [æœ€å¤§è¨±å®¹è·é›¢]"ï¼ˆç™½ï¼‰



å‹•ç”»ã‚’åˆ†æã—ã¦ã€ä»¥ä¸‹ã®ãƒ¡ãƒƒã‚»ãƒ¼ã‚¸ãŒè¡¨ç¤ºã•ã‚Œã¦ã„ã‚‹ã‹ç¢ºèªã—ã¦ãã ã•ã„ã€‚è¡¨ç¤ºã•ã‚Œã¦ã„ã‚Œã°ã€ãƒ¡ãƒƒã‚»ãƒ¼ã‚¸ã‚’ç¤ºã—ã¦
1. Outer: Setting Actor Rotation
2. NextWallNormal:


å‹•ç”»ã‚’åˆ†æã—ã¦ã€ä»¥ä¸‹ã®ãƒ¡ãƒƒã‚»ãƒ¼ã‚¸ãŒè¡¨ç¤ºã•ã‚Œã¦ã„ã‚‹ã‹ç¢ºèªã—ã¦ãã ã•ã„ã€‚è¡¨ç¤ºã•ã‚Œã¦ã„ã‚Œã°ã€ãƒ¡ãƒƒã‚»ãƒ¼ã‚¸ã‚’ç¤ºã—ã¦
- ã€ŒOuter Corner: Edge detected, searching next wall...ã€ï¼ˆé»„è‰²ï¼‰- 1st Trace MISS
- ã€ŒOuter Corner: Next wall found! Transitioning...ã€ï¼ˆç·‘ï¼‰- 2nd Trace HIT
- ã€ŒDistance: [æ•°å€¤]ã€ã¨ã€ŒMaxCornerDistance: [æ•°å€¤]ã€ï¼ˆç™½ï¼‰- è·é›¢ãƒã‚§ãƒƒã‚¯




# CLAUDE.md

**Ultra Think**

Unity 6ã§ä½œæˆã•ã‚ŒãŸ3Dã‚²ãƒ¼ãƒ ãƒ—ãƒ­ã‚¸ã‚§ã‚¯ãƒˆã®ãƒ™ãƒ¼ã‚¹ãƒ†ãƒ³ãƒ—ãƒ¬ãƒ¼ãƒˆã§ã™ã€‚Universal Render Pipeline (URP) ã‚’ä½¿ç”¨ã—ã¦ã„ã¾ã™ã€‚

## æ¦‚è¦

*Service Locator + Eventé§†å‹•ã®ãƒã‚¤ãƒ–ãƒªãƒƒãƒ‰ã‚¢ãƒ¼ã‚­ãƒ†ã‚¯ãƒãƒ£ï¼ˆæœ€é‡è¦ï¼‰*ã¨ã‚³ãƒãƒ³ãƒ‰ãƒ‘ã‚¿ãƒ¼ãƒ³ã‚’çµ„ã¿åˆã‚ã›ãŸã€æ‹¡å¼µæ€§ã®é«˜ã„3Dã‚²ãƒ¼ãƒ ã®åŸºç›¤ã‚’æä¾›ã—ã¾ã™ã€‚Scriptable Objectã‚’æ´»ç”¨ã—ã€ãƒ‡ãƒ¼ã‚¿ã¨ãƒ­ã‚¸ãƒƒã‚¯ã®åˆ†é›¢ã‚’ä¿ƒé€²ã™ã‚‹ã“ã¨ã§ã€åŠ¹ç‡çš„ãªé–‹ç™ºã¨ãƒ¡ãƒ³ãƒ†ãƒŠãƒ³ã‚¹ã‚’ç›®çš„ã¨ã—ã¦ã„ã¾ã™ã€‚

## ãƒ—ãƒ­ã‚¸ã‚§ã‚¯ãƒˆã‚¹ãƒ†ãƒ¼ã‚¿ã‚¹ âœ…å®Œäº† (2025-12-28)

| æŒ‡æ¨™ | é”æˆå€¤ |
|------|--------|
| ã‚³ãƒ³ãƒ‘ã‚¤ãƒ«ã‚¨ãƒ©ãƒ¼ | 378â†’0ä»¶ (100%è§£æ±º) |
| ã‚³ãƒ³ãƒ‘ã‚¤ãƒ«è­¦å‘Š | 0ä»¶ |
| ServiceLocatorçµ±åˆ | 1,265ç®‡æ‰€ |
| Singletonæ’é™¤ | 524â†’0ç®‡æ‰€ (100%é”æˆ) |
| GameEventå®šç¾© | 150å€‹ |
| ICommandå®Ÿè£… | 188å€‹ |
| Assembly Definition | 39å€‹ |
| ãƒ‘ãƒ•ã‚©ãƒ¼ãƒãƒ³ã‚¹ | 95%ãƒ¡ãƒ¢ãƒªå‰Šæ¸›ã€67%é€Ÿåº¦æ”¹å–„ |
| æ–‡å­—ã‚¨ãƒ³ã‚³ãƒ¼ãƒ‡ã‚£ãƒ³ã‚° | UTF-8çµ±ä¸€ã€LFæ”¹è¡Œ |

### DOTS/ECS âœ…å°å…¥å®Œäº†
- å°å…¥å¯èƒ½æ€§è©•ä¾¡: 90%ä»¥ä¸Šå®Ÿç¾å¯èƒ½
- æ¨å¥¨ã‚¢ãƒ—ãƒ­ãƒ¼ãƒ: ãƒã‚¤ãƒ–ãƒªãƒƒãƒ‰MonoBehaviour + ECS
- æœŸå¾…åŠ¹æœ: AIã‚»ãƒ³ã‚µãƒ¼å‡¦ç†300-500%å‘ä¸Šã€ãƒ¡ãƒ¢ãƒª70%å‰Šæ¸›
- å®Ÿè£…æœŸé–“: 6-8ãƒ¶æœˆï¼ˆ3ãƒ•ã‚§ãƒ¼ã‚ºï¼‰
- è©³ç´°: [`Docs/07_Reports/DOTS_ECS_Introduction_Feasibility_Report.md`](Docs/07_Reports/DOTS_ECS_Introduction_Feasibility_Report.md)

## æŠ€è¡“ä»•æ§˜

| é …ç›® | å€¤ |
|------|-----|
| Unity Version | **6000.3.2f1** |
| Unity Editor Path | `C:\Program Files\Unity\Hub\Editor\6000.3.2f1\Editor\Unity.exe` |
| Render Pipeline | Universal Render Pipeline (URP) |
| Scripting Backend | Mono |
| API Compatibility | .NET Standard 2.1 |

## ã‚¢ãƒ¼ã‚­ãƒ†ã‚¯ãƒãƒ£åˆ¶ç´„

- **Singletonãƒ‘ã‚¿ãƒ¼ãƒ³ã¯åŸå‰‡ç¦æ­¢**ï¼ˆServiceLocatorã§ä»£æ›¿ï¼‰
- **JSONæ“ä½œã«ã¯Newtonsoft Jsonã‚’ä½¿ç”¨**ï¼ˆJsonUtilityç¦æ­¢ï¼‰

## 4å±¤ã‚¢ãƒ¼ã‚­ãƒ†ã‚¯ãƒãƒ£ï¼ˆæœ€é‡è¦ï¼‰

| å±¤ | ãƒ‡ã‚£ãƒ¬ã‚¯ãƒˆãƒª | ç·¨é›† | èª¬æ˜ |
|----|-------------|------|------|
| Core | `Assets/_Project/Core` | ğŸ”’ç¦æ­¢ | ã‚¸ãƒ£ãƒ³ãƒ«éä¾å­˜ã®æ™®éçš„ãªä»•çµ„ã¿ï¼ˆServiceLocatorã€Eventã€Commandã€HSMï¼‰ |
| Feature | `Assets/_Project/Features` | ğŸ”’ç¦æ­¢ | å†åˆ©ç”¨å¯èƒ½ãªæ©Ÿèƒ½éƒ¨å“ï¼ˆPlayerã€AIã€Cameraã€Combatï¼‰ |
| Template | `Assets/_Project/Templates` | ğŸ“–å‚ç…§ãƒ»ã‚³ãƒ”ãƒ¼ | ã‚²ãƒ¼ãƒ ã‚¸ãƒ£ãƒ³ãƒ«ã®ã²ãªå½¢ï¼ˆã‚·ãƒ¼ãƒ³ã€ãƒ—ãƒ¬ãƒãƒ–ã€ScriptableObjectï¼‰ |
| **Game** | `Assets/_Project/Game` | âœï¸**è‡ªç”±** | **ã‚²ãƒ¼ãƒ å›ºæœ‰å®Ÿè£…ã€‚ãƒ¦ãƒ¼ã‚¶ãƒ¼ã¯ã“ã“ã§é–‹ç™º** |

**ä¾å­˜æ–¹å‘**: Game â†’ Template â†’ Feature â†’ Coreï¼ˆé€†æ–¹å‘ç¦æ­¢ã€39å€‹ã®asmdefã§å¼·åˆ¶ï¼‰

## ã‚¢ãƒ¼ã‚­ãƒ†ã‚¯ãƒãƒ£ã¨ãƒ‡ã‚¶ã‚¤ãƒ³ãƒ‘ã‚¿ãƒ¼ãƒ³

### 1. Service Locator + Eventé§†å‹•ã®ãƒã‚¤ãƒ–ãƒªãƒƒãƒ‰ã‚¢ãƒ—ãƒ­ãƒ¼ãƒï¼ˆæœ€é‡è¦ï¼‰
- `ServiceLocator`ã‚’é€šã˜ã¦`AudioManager`ã‚„`InputManager`ãªã©ã®ã‚°ãƒ­ãƒ¼ãƒãƒ«ã‚µãƒ¼ãƒ“ã‚¹ã«ã‚¢ã‚¯ã‚»ã‚¹
- `GameEvent`ã‚’é€šã˜ã¦å„å±¤ãŒç–çµåˆã«é€£æº
- ä¾å­˜é–¢ä¿‚ã®æ³¨å…¥ãŒä¸è¦ã§ã€ã‚³ãƒ¼ãƒ‰ã®å¯èª­æ€§ã¨ä¿å®ˆæ€§ãŒå‘ä¸Š

### 2. ã‚¤ãƒ™ãƒ³ãƒˆé§†å‹•å‹ã‚¢ãƒ¼ã‚­ãƒ†ã‚¯ãƒãƒ£
- `ScriptableObject`ãƒ™ãƒ¼ã‚¹ã®ã‚¤ãƒ™ãƒ³ãƒˆãƒãƒ£ãƒãƒ«ï¼ˆ`GameEvent`ï¼‰ä½¿ç”¨
- ã‚ªãƒ–ã‚¸ã‚§ã‚¯ãƒˆé–“ã®ç›´æ¥å‚ç…§ãªã—ã§é€šä¿¡

### 3. ã‚³ãƒãƒ³ãƒ‰ãƒ‘ã‚¿ãƒ¼ãƒ³ + ObjectPoolæœ€é©åŒ–
- ã‚²ãƒ¼ãƒ å†…æ“ä½œã‚’ã€Œã‚³ãƒãƒ³ãƒ‰ã€ã¨ã—ã¦ã‚«ãƒ—ã‚»ãƒ«åŒ–
- Undo/Redoã€é…å»¶å®Ÿè¡Œã€ã‚­ãƒ¥ãƒ¼ã‚¤ãƒ³ã‚°ãŒå®¹æ˜“
- `CommandPool`ã§95%ãƒ¡ãƒ¢ãƒªå‰Šæ¸›ã€67%é€Ÿåº¦æ”¹å–„

### 4. éšå±¤åŒ–ã‚¹ãƒ†ãƒ¼ãƒˆãƒã‚·ãƒ³ (HSM)
- Playerã€Cameraã€AIã®è¤‡é›‘ãªçŠ¶æ…‹ç®¡ç†
- çŠ¶æ…‹ã®ãƒã‚¹ãƒˆã¨ãƒ­ã‚¸ãƒƒã‚¯ã®ç¶™æ‰¿ãŒå¯èƒ½

### 5. ScriptableObjectãƒ™ãƒ¼ã‚¹ã®ãƒ‡ãƒ¼ã‚¿é§†å‹•è¨­è¨ˆ
- ã‚­ãƒ£ãƒ©ã‚¯ã‚¿ãƒ¼ã‚¹ãƒ†ãƒ¼ã‚¿ã‚¹ã€ã‚¢ã‚¤ãƒ†ãƒ ã‚¹ãƒšãƒƒã‚¯ç­‰ã‚’ã‚¢ã‚»ãƒƒãƒˆã¨ã—ã¦ç®¡ç†
- ãƒãƒ³ãƒ—ãƒ­ã‚°ãƒ©ãƒãƒ¼ã‚‚ãƒãƒ©ãƒ³ã‚¹èª¿æ•´å¯èƒ½

### 6. ãã®ä»–ã®ãƒ‘ã‚¿ãƒ¼ãƒ³
- **Strategyãƒ‘ã‚¿ãƒ¼ãƒ³**: ã‚¢ãƒ«ã‚´ãƒªã‚ºãƒ ã®ã‚«ãƒ—ã‚»ãƒ«åŒ–ã¨äº¤æ›
- **Factory+Registryãƒ‘ã‚¿ãƒ¼ãƒ³**: ã‚ªãƒ–ã‚¸ã‚§ã‚¯ãƒˆç”Ÿæˆã¨ç®¡ç†ã®åˆ†é›¢
- **Lifecycle Managementãƒ‘ã‚¿ãƒ¼ãƒ³**: ã‚ªãƒ–ã‚¸ã‚§ã‚¯ãƒˆã®ç”Ÿæˆãƒ»ä½¿ç”¨ãƒ»ç ´æ£„ã‚’ä¸€å…ƒç®¡ç†
- **Delegateãƒ‘ã‚¿ãƒ¼ãƒ³**: ã‚³ãƒ¼ãƒ«ãƒãƒƒã‚¯ã¨ã‚¤ãƒ™ãƒ³ãƒˆãƒãƒ³ãƒ‰ãƒªãƒ³ã‚°

## åˆ¶ä½œæƒ³å®šã‚²ãƒ¼ãƒ 

**ã‚·ãƒ³ã‚°ãƒ«ãƒ—ãƒ¬ã‚¤å°‚ç”¨**:
- ã‚¹ãƒ†ãƒ«ã‚¹ã‚¢ã‚¯ã‚·ãƒ§ãƒ³ã‚²ãƒ¼ãƒ 
- ã‚µãƒã‚¤ãƒãƒ«ãƒ›ãƒ©ãƒ¼ã‚²ãƒ¼ãƒ 
- 3Dãƒ—ãƒ©ãƒƒãƒˆãƒ•ã‚©ãƒ¼ãƒãƒ¼ã‚²ãƒ¼ãƒ 
- TPS/FPSã‚²ãƒ¼ãƒ ï¼ˆä¸€äººç§°/ä¸‰äººç§°è¦–ç‚¹åˆ‡ã‚Šæ›¿ãˆå¯èƒ½ï¼‰
- ã‚¢ã‚¯ã‚·ãƒ§ãƒ³RPGã‚²ãƒ¼ãƒ 
- ã‚¢ã‚¯ã‚·ãƒ§ãƒ³ã‚¢ãƒ‰ãƒ™ãƒ³ãƒãƒ£ãƒ¼ã‚²ãƒ¼ãƒ 

**å¯¾å¿œãƒ—ãƒ©ãƒƒãƒˆãƒ•ã‚©ãƒ¼ãƒ **: Windowsã€iOSã€Android

## ä¸»è¦ãƒ‘ãƒƒã‚±ãƒ¼ã‚¸

| ãƒ‘ãƒƒã‚±ãƒ¼ã‚¸ | ç”¨é€” |
|-----------|------|
| `com.unity.render-pipelines.universal` | Universal Render Pipeline |
| `com.unity.inputsystem` | å…¥åŠ›ã‚·ã‚¹ãƒ†ãƒ ï¼ˆ**æ—§Input Manager APIç¦æ­¢**ï¼‰ |
| `com.unity.cinemachine` | é«˜åº¦ãªã‚«ãƒ¡ãƒ©åˆ¶å¾¡ |
| `com.unity.ai.navigation` | ãƒŠãƒ“ã‚²ãƒ¼ã‚·ãƒ§ãƒ³ã¨çµŒè·¯æ¢ç´¢ |
| `com.unity.test-framework` | ãƒ¦ãƒ‹ãƒƒãƒˆãƒ†ã‚¹ãƒˆã¨ãƒ—ãƒ¬ã‚¤ãƒ¢ãƒ¼ãƒ‰ãƒ†ã‚¹ãƒˆ |
| `com.unity.timeline` | ã‚¿ã‚¤ãƒ ãƒ©ã‚¤ãƒ³ã¨ã‚«ãƒƒãƒˆã‚·ãƒ¼ãƒ³åˆ¶å¾¡ |
| `com.unity.addressables` | ã‚¢ã‚»ãƒƒãƒˆç®¡ç†ã¨å‹•çš„ãƒ­ãƒ¼ãƒ‰ |
| `com.unity.probuilder` | 3Dãƒ¢ãƒ‡ãƒªãƒ³ã‚°ã¨ãƒ¬ãƒ™ãƒ«ãƒ‡ã‚¶ã‚¤ãƒ³ |
| `com.unity.localization` | å¤šè¨€èªå¯¾å¿œãƒ»ãƒ­ãƒ¼ã‚«ãƒ©ã‚¤ã‚¼ãƒ¼ã‚·ãƒ§ãƒ³ |

### UI ã‚·ã‚¹ãƒ†ãƒ 
- **uGUI** (ç¾åœ¨ã®ãƒ©ãƒ³ã‚¿ã‚¤ãƒ UI): Canvas + DOTweençµ±åˆæ¸ˆã¿
- **UIToolkit** (åˆ©ç”¨å¯èƒ½): `com.unity.modules.uielements` å°å…¥æ¸ˆã¿
  - ã‚¨ãƒ‡ã‚£ã‚¿UIæ‹¡å¼µã«æ¨å¥¨
  - ãƒ©ãƒ³ã‚¿ã‚¤ãƒ UIã¯æ®µéšçš„ç§»è¡Œå¯èƒ½
  - .uxml/.uss ã«ã‚ˆã‚‹ã‚¹ã‚¿ã‚¤ãƒ«ä¸€å…ƒç®¡ç†
- **TextMesh Pro**: é«˜å“è³ªãƒ†ã‚­ã‚¹ãƒˆãƒ¬ãƒ³ãƒ€ãƒªãƒ³ã‚°ï¼ˆæ¨™æº–çµ±åˆï¼‰

### DOTS/ECSãƒ‘ãƒƒã‚±ãƒ¼ã‚¸ï¼ˆå°å…¥æ¸ˆã¿ï¼‰
- `com.unity.entities`: Entity Component SystemåŸºç›¤
- `com.unity.entities.graphics`: ECSãƒ¬ãƒ³ãƒ€ãƒªãƒ³ã‚°
- `com.unity.burst`: Burstã‚³ãƒ³ãƒ‘ã‚¤ãƒ©ï¼ˆé«˜é€ŸåŒ–ï¼‰
- `com.unity.collections`: ãƒã‚¤ãƒ†ã‚£ãƒ–ã‚³ãƒ¬ã‚¯ã‚·ãƒ§ãƒ³
- `com.unity.jobs`: Job Systemï¼ˆä¸¦åˆ—å‡¦ç†ï¼‰
- `com.unity.mathematics`: æ•°å­¦ãƒ©ã‚¤ãƒ–ãƒ©ãƒª

### éåŒæœŸå‡¦ç†
- **Unity 6 Awaitable** (å¿…é ˆ): Unityå…¬å¼ã®ã‚¼ãƒ­GC async/await API
- âœ… UniTask â†’ Unity 6 Awaitable ç§»è¡Œå®Œäº†ï¼ˆTASK-013, 2026-01-01ï¼‰

### ã‚µãƒ¼ãƒ‰ãƒ‘ãƒ¼ãƒ†ã‚£
- **DOTween**: ã‚¢ãƒ‹ãƒ¡ãƒ¼ã‚·ãƒ§ãƒ³ã¨ã‚¿ã‚¤ãƒ ãƒ©ã‚¤ãƒ³åˆ¶å¾¡
- **Tri Inspector**: ã‚¨ãƒ‡ã‚£ã‚¿æ‹¡å¼µã¨ã‚«ã‚¹ã‚¿ãƒ ã‚¤ãƒ³ã‚¹ãƒšã‚¯ã‚¿ï¼ˆMIT Licenseï¼‰
  - âœ… Odin Inspector ã‹ã‚‰ç§»è¡Œå®Œäº†ï¼ˆ2026-01-03ï¼‰
- **Newtonsoft Json** (`com.unity.nuget.newtonsoft-json`): JSONæ“ä½œï¼ˆ**å¿…é ˆä½¿ç”¨**ï¼‰
  - âœ… JsonUtility ã‹ã‚‰ç§»è¡Œæ¨å¥¨
- **FluidBT** (`com.fluid.behavior-tree@2.3.0`): ç´”ç²‹C# Behavior Tree
  - **Prototypeå±¤ã®AI Behaviorå®Ÿè£…ã§ä½¿ç”¨**ï¼ˆBD Proã¯ãƒ“ã‚¸ãƒ¥ã‚¢ãƒ«è¨­è¨ˆç”¨ï¼‰
  - NPM RegistryçµŒç”±ã§ã‚¤ãƒ³ã‚¹ãƒˆãƒ¼ãƒ«æ¸ˆã¿

## é–‹ç™ºç’°å¢ƒè¦ä»¶

- **CLI**: PowerShell 7ã‚’ä½¿ç”¨ï¼ˆcmdéæ¨å¥¨ï¼‰
- **ã‚¿ã‚¤ãƒ ã‚¾ãƒ¼ãƒ³**: JST (UTC+9)
- **æ—¥ä»˜å½¢å¼**: `YYYYMMDD_HHMM`ï¼ˆä¾‹: `20231005_1430`ï¼‰
- **æ–‡å­—ã‚¨ãƒ³ã‚³ãƒ¼ãƒ‡ã‚£ãƒ³ã‚°**: UTF-8
- **æ”¹è¡Œã‚³ãƒ¼ãƒ‰**: LF
- **ã‚³ãƒ¼ãƒ‰ã‚¹ã‚¿ã‚¤ãƒ«**: [Unity C# Coding Standards](https://learn.microsoft.com/en-us/dotnet/csharp/fundamentals/coding-style/coding-conventions) ã«æº–æ‹ 
- **Git LFS**: å¤§ããªãƒã‚¤ãƒŠãƒªãƒ•ã‚¡ã‚¤ãƒ«ã«ä½¿ç”¨

### Gitæ“ä½œè¦ç´„

| æ“ä½œ | ã‚³ãƒãƒ³ãƒ‰ | ç†ç”± |
|------|----------|------|
| ãƒ•ã‚¡ã‚¤ãƒ«/ãƒ‡ã‚£ãƒ¬ã‚¯ãƒˆãƒªç§»å‹• | `git mv` | Gitå±¥æ­´ã®è¿½è·¡ã‚’ç¶­æŒ |
| ãƒ•ã‚¡ã‚¤ãƒ«/ãƒ‡ã‚£ãƒ¬ã‚¯ãƒˆãƒªãƒªãƒãƒ¼ãƒ  | `git mv` | Gitå±¥æ­´ã®è¿½è·¡ã‚’ç¶­æŒ |

```bash
# ä¾‹: ãƒ‡ã‚£ãƒ¬ã‚¯ãƒˆãƒªã®ãƒªãƒãƒ¼ãƒ 
git mv Docs/OldName Docs/NewName

# ä¾‹: ãƒ•ã‚¡ã‚¤ãƒ«ã®ç§»å‹•
git mv path/to/file.md new/path/file.md
```

**ç¦æ­¢**: `Move-Item`ã€`Rename-Item`ã€ã‚¨ã‚¯ã‚¹ãƒ—ãƒ­ãƒ¼ãƒ©ãƒ¼ã§ã®ç›´æ¥æ“ä½œï¼ˆGitå±¥æ­´ãŒé€”åˆ‡ã‚Œã‚‹ï¼‰

### âš ï¸ æœ€é‡è¦åˆ¶ç´„

> **ã€æœ€é‡è¦ã€‘ãƒãƒƒãƒãƒ¢ãƒ¼ãƒ‰ï¼ˆã‚³ãƒ³ãƒ‘ã‚¤ãƒ«ãƒ»ãƒ†ã‚¹ãƒˆå®Ÿè¡Œç­‰ï¼‰ã‚’èµ·å‹•ã™ã‚‹å‰ã«ã¯ã€å¿…ãš Unity Editor ãŒèµ·å‹•ã—ã¦ã„ãªã„ã‹ãƒ—ãƒ­ã‚»ã‚¹ã‚’ç¢ºèªã—ã€èµ·å‹•ã—ã¦ã„ã‚‹å ´åˆã¯çµ‚äº†ã—ã¦ãã ã•ã„ã€‚**
> åŒä¸€ãƒ—ãƒ­ã‚¸ã‚§ã‚¯ãƒˆã¸ã®è¤‡æ•°ãƒ—ãƒ­ã‚»ã‚¹åŒæ™‚ã‚¢ã‚¯ã‚»ã‚¹ã¯ãƒ•ã‚¡ã‚¤ãƒ«ç ´æã®åŸå› ã¨ãªã‚Šã¾ã™ã€‚

### Windows PowerShellã‚³ãƒãƒ³ãƒ‰ä¾‹
```powershell
# ãƒ•ã‚¡ã‚¤ãƒ«æ“ä½œã¯powershell -Commandã§ãƒ©ãƒƒãƒ—
powershell -Command "Remove-Item 'ãƒ‘ã‚¹'"
powershell -Command "Move-Item 'ã‚½ãƒ¼ã‚¹' 'ãƒ‡ã‚¹ãƒ†ã‚£ãƒãƒ¼ã‚·ãƒ§ãƒ³'"
powershell -Command "New-Item -ItemType Directory -Path 'ãƒ‘ã‚¹'"
```

## ãƒ‡ã‚£ãƒ¬ã‚¯ãƒˆãƒªæ§‹æˆ

```
Assets/_Project/
â”œâ”€â”€ Core/           # ğŸ”’ ServiceLocatorã€Eventsã€Commandsã€ECS
â”œâ”€â”€ Features/       # ğŸ”’ Playerã€AIã€Cameraã€Combat
â”œâ”€â”€ Templates/      # ğŸ“– ã‚¸ãƒ£ãƒ³ãƒ«åˆ¥ãƒ†ãƒ³ãƒ—ãƒ¬ãƒ¼ãƒˆ
â”‚   â”œâ”€â”€ [ã‚¸ãƒ£ãƒ³ãƒ«å]/   # Stealth, SurvivalHorror, FPS, TPSç­‰
â”‚   â””â”€â”€ Common/         # å…±æœ‰ã‚¢ã‚»ãƒƒãƒˆ
â”œâ”€â”€ Game/           # âœï¸ ã‚²ãƒ¼ãƒ å›ºæœ‰å®Ÿè£…
â”‚   â”œâ”€â”€ Scripts/        # ã‚²ãƒ¼ãƒ å›ºæœ‰ãƒ­ã‚¸ãƒƒã‚¯
â”‚   â”œâ”€â”€ Prefabs/        # ã‚²ãƒ¼ãƒ å›ºæœ‰ãƒ—ãƒ¬ãƒãƒ–
â”‚   â”œâ”€â”€ Scenes/         # ã‚²ãƒ¼ãƒ ã‚·ãƒ¼ãƒ³
â”‚   â”œâ”€â”€ Data/           # ScriptableObjectè¨­å®š
â”‚   â””â”€â”€ Animations/     # ã‚²ãƒ¼ãƒ å›ºæœ‰ã‚¢ãƒ‹ãƒ¡ãƒ¼ã‚·ãƒ§ãƒ³
â”œâ”€â”€ Tests/          # ãƒ†ã‚¹ãƒˆã‚³ãƒ¼ãƒ‰
â”œâ”€â”€ ThirdParty/     # ã‚µãƒ¼ãƒ‰ãƒ‘ãƒ¼ãƒ†ã‚£ãƒ©ãƒƒãƒ”ãƒ³ã‚°
â””â”€â”€ Sandbox/        # å€‹äººå®Ÿé¨“ç”¨ï¼ˆGité™¤å¤–ï¼‰
Docs/               # ãƒ‰ã‚­ãƒ¥ãƒ¡ãƒ³ãƒˆ
Docs/99_Works/      # ä½œæ¥­å ±å‘Šï¼ˆYYYYMMDD_HHMMå½¢å¼ï¼‰
Logs/               # ãƒ­ã‚°ãƒ•ã‚¡ã‚¤ãƒ«ï¼ˆAssetså¤–ã«é…ç½®ï¼‰
Assets/Plugins/     # ã‚µãƒ¼ãƒ‰ãƒ‘ãƒ¼ãƒ†ã‚£ï¼ˆç›´æ¥ç·¨é›†ç¦æ­¢ï¼‰
```

### é–‹ç™ºãƒ»ãƒ†ã‚¹ãƒˆç’°å¢ƒ

| ç’°å¢ƒ | ãƒ‡ã‚£ãƒ¬ã‚¯ãƒˆãƒª | Git | ç”¨é€” |
|------|-------------|-----|------|
| Featureå±¤ãƒªãƒ•ã‚¡ãƒ¬ãƒ³ã‚¹ | `Templates/Common/Sandbox/` | âœ… | Featureå±¤æ©Ÿèƒ½ã®ãƒªãƒ•ã‚¡ãƒ¬ãƒ³ã‚¹ |
| ã‚²ãƒ¼ãƒ å›ºæœ‰é–‹ç™º | `Game/Development/` | âœ… | ã‚²ãƒ¼ãƒ å›ºæœ‰æ©Ÿèƒ½ã®é–‹ç™ºç¢ºèª |
| å€‹äººSandbox | `Assets/_Project/Sandbox/` | âŒ | å€‹äººå®Ÿé¨“ãƒ»ãƒ‡ãƒãƒƒã‚°ï¼ˆã‚³ãƒŸãƒƒãƒˆä¸è¦ï¼‰ |

**ãƒ­ãƒ¼ã‚«ãƒ«å°‚ç”¨ã‚·ãƒ¼ãƒ³**: `*_local.unity`ï¼ˆ.gitignoreé™¤å¤–ï¼‰

### Assembly Definitionæ§‹æˆï¼ˆ39å€‹ï¼‰

| å±¤ | æ•° | ä¸»è¦å |
|----|---|--------|
| Core | 9 | `asterivo.kiban.Core.*` |
| Feature | 14 | `asterivo.kiban.Features.*` |
| Template | 7 | `asterivo.kiban.Templates.*` |
| Game | 1 | `asterivo.kiban.Game` |
| Tests | 7 | `asterivo.kiban.Tests.*` |
| Editor | 1 | `asterivo.kiban.Editor.*` |

### ECSãƒ‡ã‚£ãƒ¬ã‚¯ãƒˆãƒªæ§‹é€ 

```
Assets/_Project/Core/ECS/
â”œâ”€â”€ Components/     # ECSã‚³ãƒ³ãƒãƒ¼ãƒãƒ³ãƒˆå®šç¾©
â”œâ”€â”€ Systems/        # ECSã‚·ã‚¹ãƒ†ãƒ 
â”œâ”€â”€ Authoring/      # MonoBehaviourâ†’ECSå¤‰æ›
â”œâ”€â”€ Jobs/           # Burstå¯¾å¿œJobå®šç¾©
â”œâ”€â”€ Aspects/        # ECS Aspects
â””â”€â”€ Utilities/      # ECSãƒ¦ãƒ¼ãƒ†ã‚£ãƒªãƒ†ã‚£
```

**ãƒã‚¤ãƒ–ãƒªãƒƒãƒ‰æ–¹é‡**: ECSã¯Coreå±¤ã«é…ç½®ã€ServiceLocatorçµŒç”±ã§MonoBehaviourã¨é€£æº

## SDDï¼ˆã‚¹ãƒšãƒƒã‚¯é§†å‹•é–‹ç™ºï¼‰

| ãƒ•ã‚¡ã‚¤ãƒ« | ç”¨é€” | æ–‡å­—æ•°åˆ¶é™ |
|----------|------|-----------|
| `CLAUDE.md` | ãƒ—ãƒ­ã‚¸ã‚§ã‚¯ãƒˆæ¦‚è¦ãƒ»è¦ç´„ï¼ˆäººé–“ä½œæˆï¼‰ | **40,000 chars** |
| `SPEC.md` | åˆæœŸæ§‹æƒ³ãƒ»è¦ä»¶å®šç¾©ï¼ˆäººé–“ä½œæˆï¼‰ | **40,000 chars** |
| `REQUIREMENTS.md` | å½¢å¼åŒ–ã•ã‚ŒãŸè¦ä»¶ï¼ˆAIç”Ÿæˆï¼‰ | **40,000 chars** |
| `DESIGN.md` | æŠ€è¡“è¨­è¨ˆæ›¸ï¼ˆAIç”Ÿæˆï¼‰ | **40,000 chars** |
| `TASKS.md` | å®Ÿè£…ã‚¿ã‚¹ã‚¯ä¸€è¦§ï¼ˆAIç”Ÿæˆï¼‰ | - |
| `TODO.md` | é€²è¡Œä¸­ã‚¿ã‚¹ã‚¯ç®¡ç†ï¼ˆäººé–“ä½œæˆï¼‰ | - |

**SDDãƒ•ã‚§ãƒ¼ã‚º**: æ§‹æƒ³ â†’ å½¢å¼åŒ– â†’ è¨­è¨ˆ â†’ åˆ†è§£ â†’ å®Ÿè£…ãƒ»æ¤œè¨¼

**ä½œæ¥­ãƒ­ã‚°**: `Docs/99_Works/YYYYMMDD_HHMM/`ã«ã‚¹ãƒŠãƒƒãƒ—ã‚·ãƒ§ãƒƒãƒˆä¿ç®¡

### SDDãƒ•ã‚¡ã‚¤ãƒ«æ–‡å­—æ•°åˆ¶é™ï¼ˆé‡è¦ï¼‰

| ãƒ•ã‚¡ã‚¤ãƒ« | åˆ¶é™ | é‹ç”¨ãƒ«ãƒ¼ãƒ« |
|----------|------|-----------|
| CLAUDE.md | 40,000 chars | æ¦‚è¦ãƒ»è¦ç´„ã®ã¿ã€è©³ç´°ã¯`Docs/`ã¸ |
| DESIGN.md | 40,000 chars | è¨­è¨ˆæ¦‚è¦ã®ã¿ã€è©³ç´°Specã¯`Docs/05_Specs/`ã¸ |
| SPEC.md | 40,000 chars | è¦ä»¶æ¦‚è¦ã®ã¿ã€Feature Specã¯åˆ†é›¢ |
| REQUIREMENTS.md | 40,000 chars | å½¢å¼åŒ–è¦ä»¶ã®ã¿ |

**è¶…éæ™‚ã®å¯¾å¿œ**:
- è©³ç´°ä»•æ§˜ã¯ `Docs/05_Specs/` ã«åˆ†é›¢
- åŸºç›¤ãƒ•ã‚¡ã‚¤ãƒ«ã¯æ¦‚è¦ãƒ»ãƒªãƒ³ã‚¯ã®ã¿è¨˜è¼‰
- å®šæœŸçš„ã«æ–‡å­—æ•°ã‚’ç¢ºèªï¼ˆ`wc -m` or ã‚¨ãƒ‡ã‚£ã‚¿æ©Ÿèƒ½ï¼‰

### SDDÃ—TDDæ”¹å–„ææ¡ˆ

Featureå±¤ã®ãƒ†ã‚¹ãƒˆé§†å‹•é–‹ç™ºã‚’å¼·åŒ–ã™ã‚‹ãŸã‚ã®æ”¹å–„ææ¡ˆã‚’ç­–å®šæ¸ˆã¿ã€‚

| ãƒ‰ã‚­ãƒ¥ãƒ¡ãƒ³ãƒˆ | èª¬æ˜ |
|-------------|------|
| [`SDDxTDD_ã‚¢ãƒ¼ã‚­ãƒ†ã‚¯ãƒãƒ£æ”¹å–„ææ¡ˆ.md`](Docs/08_Proposals/SDDxTDD_ã‚¢ãƒ¼ã‚­ãƒ†ã‚¯ãƒãƒ£æ”¹å–„ææ¡ˆ.md) | æ”¹å–„ææ¡ˆã®çµ±åˆæ–‡æ›¸ |
| [`SDDxTDD_æ”¹å–„ææ¡ˆ_ãƒ¡ãƒªãƒƒãƒˆãƒ‡ãƒ¡ãƒªãƒƒãƒˆåˆ†æ.md`](Docs/08_Proposals/SDDxTDD_æ”¹å–„ææ¡ˆ_ãƒ¡ãƒªãƒƒãƒˆãƒ‡ãƒ¡ãƒªãƒƒãƒˆåˆ†æ.md) | ãƒ¡ãƒªãƒƒãƒˆ/ãƒ‡ãƒ¡ãƒªãƒƒãƒˆåˆ†æ |
| [`SDDxTDD_è¿½åŠ ãƒ•ã‚¡ã‚¤ãƒ«ä¸€è¦§.md`](Docs/99_Works/SDDxTDD_è¿½åŠ ãƒ•ã‚¡ã‚¤ãƒ«ä¸€è¦§.md) | è¿½åŠ ãƒ•ã‚¡ã‚¤ãƒ«ä¸€è¦§ |
| [`SDDxTDD_å®Ÿè£…ã‚¿ã‚¹ã‚¯ä¸€è¦§.md`](Docs/99_Works/SDDxTDD_å®Ÿè£…ã‚¿ã‚¹ã‚¯ä¸€è¦§.md) | å®Ÿè£…ã‚¿ã‚¹ã‚¯ä¸€è¦§ |

**ä¸»è¦æ”¹å–„ãƒã‚¤ãƒ³ãƒˆ**:
- Service Locatorè¨­è¨ˆãƒ«ãƒ¼ãƒ«ï¼ˆSL-1ã€œSL-3ï¼‰
- Command Poolè¨­è¨ˆãƒ«ãƒ¼ãƒ«ï¼ˆP-1ã€œP-3ï¼‰
- Feature Specå½¢å¼ã®æ¨™æº–åŒ–
- Feature TDD vs Golden/Replayãƒ†ã‚¹ãƒˆæˆ¦ç•¥

è©³ç´°: [`Docs/SDD_Markdownä½œæˆå®Ÿè·µã‚¬ã‚¤ãƒ‰.md`](Docs/SDD_Markdownä½œæˆå®Ÿè·µã‚¬ã‚¤ãƒ‰.md)

## MCPã‚µãƒ¼ãƒãƒ¼å„ªå…ˆé †ä½

| ã‚µãƒ¼ãƒãƒ¼ | å½¹å‰² | åˆ¶å¾¡ | ä¸»è¦ãƒ¦ãƒ¼ã‚¹ã‚±ãƒ¼ã‚¹ |
|----------|------|------|------------------|
| ddg-search | Webæ¤œç´¢ | èª­å–å°‚ç”¨ | æœ€æ–°æƒ…å ±æ¤œç´¢ |
| context7 | æŠ€è¡“æ–‡æ›¸æ¤œç´¢ | èª­å–å°‚ç”¨ | API/ãƒ©ã‚¤ãƒ–ãƒ©ãƒªãƒ‰ã‚­ãƒ¥ãƒ¡ãƒ³ãƒˆ |
| deepwiki | ã‚³ãƒ¼ãƒ‰ãƒ™ãƒ¼ã‚¹åˆ†æ | èª­å–å°‚ç”¨ | ã‚¢ãƒ¼ã‚­ãƒ†ã‚¯ãƒãƒ£ç†è§£ |
| github | GitHub API | èª­ã¿æ›¸ã | Issue/PRç®¡ç† |
| git | ãƒãƒ¼ã‚¸ãƒ§ãƒ³ç®¡ç† | èª­ã¿æ›¸ã | ã‚³ãƒŸãƒƒãƒˆãƒ»ãƒ–ãƒ©ãƒ³ãƒç®¡ç† |
| blender-mcp | 3Dåˆ¶ä½œ | èª­ã¿æ›¸ã | 3Dã‚¢ã‚»ãƒƒãƒˆç”Ÿæˆ |
| ai-game-developer | Unityæ“ä½œ | èª­ã¿æ›¸ã | ãƒ¬ãƒ™ãƒ«ãƒ‡ã‚¶ã‚¤ãƒ³ãƒ»ãƒ†ã‚¹ãƒˆå®Ÿè¡Œ |

**3Dã‚²ãƒ¼ãƒ åˆ¶ä½œå„ªå…ˆåº¦**: ai-game-developer > context7 > deepwiki > ddg-search > github > git > blender-mcp

**æ„æ€æ±ºå®šãƒ«ãƒ¼ãƒ«**:
1. èª­ã¿å–ã‚Šå°‚ç”¨ã‚µãƒ¼ãƒãƒ¼ã‚’å…ˆã«ä½¿ç”¨ã—ã¦æƒ…å ±åé›†
2. æ›¸ãè¾¼ã¿æ“ä½œã¯ãƒ¦ãƒ¼ã‚¶ãƒ¼æ‰¿èªå¾Œã«å®Ÿè¡Œ

## Addressablesï¼ˆç©æ¥µæ´»ç”¨ï¼‰

**ç›®æ¨™**: åˆæœŸã‚¤ãƒ³ã‚¹ãƒˆãƒ¼ãƒ«50-80MBã€DLCå¯¾å¿œ

| ã‚¢ã‚»ãƒƒãƒˆç¨®åˆ¥ | é…ä¿¡å¯èƒ½ | ä¾‹ |
|-------------|----------|-----|
| ScriptableObject | âœ… | AIãƒ‡ãƒ¼ã‚¿ã€æ­¦å™¨è¨­å®š |
| Prefab | âœ… | ã‚­ãƒ£ãƒ©ã‚¯ã‚¿ãƒ¼ã€æ­¦å™¨ |
| Scene | âœ… | ã‚¹ãƒ†ãƒ¼ã‚¸ã€ã‚¨ãƒªã‚¢ |
| Audio | âœ… | BGMã€SEã€ãƒœã‚¤ã‚¹ |
| Visual | âœ… | ãƒ†ã‚¯ã‚¹ãƒãƒ£ã€ãƒãƒ†ãƒªã‚¢ãƒ« |
| C#ã‚¹ã‚¯ãƒªãƒ—ãƒˆ | âŒ | å¿…ãšãƒ“ãƒ«ãƒ‰æ™‚ã«çµ„ã¿è¾¼ã¿ |
| Assembly Definition | âŒ | å¿…ãšãƒ“ãƒ«ãƒ‰æ™‚ã«çµ„ã¿è¾¼ã¿ |

**å®Ÿè£…ã‚¬ã‚¤ãƒ‰ãƒ©ã‚¤ãƒ³**:
- ãƒ©ãƒ™ãƒ«æ´»ç”¨: `stage`, `ai`, `audio`, `dlc`ç­‰ã§åˆ†é¡
- éåŒæœŸãƒ­ãƒ¼ãƒ‰: `Addressables.LoadAssetAsync<T>()` + Unity 6 Awaitable
- ãƒ¡ãƒ¢ãƒªç®¡ç†: æœªä½¿ç”¨ã‚¢ã‚»ãƒƒãƒˆã®é©åˆ‡ãª`Release()`

è©³ç´°: [`Docs/03_Systems/Addressables/ADDRESSABLES_REMOTE_ASSETS_GUIDE.md`](Docs/03_Systems/Addressables/ADDRESSABLES_REMOTE_ASSETS_GUIDE.md)

## ãƒ†ã‚¹ãƒˆã‚¬ã‚¤ãƒ‰ãƒ©ã‚¤ãƒ³

### ãƒ†ã‚¹ãƒˆç’°å¢ƒ

| ç’°å¢ƒ | å®Ÿè¡Œå ´æ‰€ | ç‰¹å¾´ |
|------|----------|------|
| Unity Editor | ãƒ­ãƒ¼ã‚«ãƒ«(GUI) | å…¨ã‚¢ã‚»ãƒƒãƒˆã‚¢ã‚¯ã‚»ã‚¹å¯ã€ãƒ‡ãƒãƒƒã‚°å®¹æ˜“ |
| ãƒ­ãƒ¼ã‚«ãƒ«Batch Mode | ãƒ­ãƒ¼ã‚«ãƒ«(CLI) | é«˜é€Ÿã€CIå‰æ¤œè¨¼ |
| GitHub Actions CI | ã‚¯ãƒ©ã‚¦ãƒ‰ | è‡ªå‹•å“è³ªã‚²ãƒ¼ãƒˆã€Dockerç’°å¢ƒ |

### ãƒ†ã‚¹ãƒˆãƒ¢ãƒ¼ãƒ‰

| ãƒ¢ãƒ¼ãƒ‰ | ç”¨é€” | asmdefè¨­å®š |
|--------|------|------------|
| **EditMode** | ç´”ç²‹C#ãƒ­ã‚¸ãƒƒã‚¯ã€ãƒ­ã‚¸ãƒƒã‚¯åˆ†é›¢ãƒ‘ã‚¿ãƒ¼ãƒ³ | `"includePlatforms": ["Editor"]` |
| **PlayMode** | MonoBehaviourã€Physicsã€UIä¾å­˜ | `"includePlatforms": []` |

**EditModeãƒ†ã‚¹ãƒˆã‚’å„ªå…ˆ**: Unityä¾å­˜ã‚’æœ€å°åŒ–ã—ã€é«˜é€Ÿã§å®‰å®šã—ãŸãƒ†ã‚¹ãƒˆ

### æ¨å¥¨ãƒ‘ã‚¿ãƒ¼ãƒ³

#### 1. ãƒ­ã‚¸ãƒƒã‚¯åˆ†é›¢ãƒ‘ã‚¿ãƒ¼ãƒ³ï¼ˆæœ€é‡è¦ãƒ»æ¨å¥¨ï¼‰

> **å­¦è¡“å**: Humble Object ãƒ‘ã‚¿ãƒ¼ãƒ³ï¼ˆxUnit Test Patterns, Gerard Meszarosï¼‰
> ãƒ†ã‚¹ãƒˆå›°é›£ãªã‚³ãƒ¼ãƒ‰ï¼ˆUnityä¾å­˜ï¼‰ã‚’ã€Œè¬™è™šã€ã«ä¿ã¡ã€ãƒ­ã‚¸ãƒƒã‚¯ã‚’åˆ†é›¢ã™ã‚‹è¨­è¨ˆãƒ‘ã‚¿ãƒ¼ãƒ³

MonoBehaviour / ScriptableObject ã‹ã‚‰ç´”ç²‹C#ãƒ­ã‚¸ãƒƒã‚¯ã‚’åˆ†é›¢ã—ã€**æœ¬ç•ªã‚³ãƒ¼ãƒ‰**ã‚’EditModeã§ãƒ†ã‚¹ãƒˆå¯èƒ½ã«ã™ã‚‹ã€‚

**é©ç”¨å¯¾è±¡ã¨åŸºæº–**:

| å¯¾è±¡ | é©ç”¨åŸºæº– | ä¾‹ |
|------|----------|-----|
| MonoBehaviour | ãƒ“ã‚¸ãƒã‚¹ãƒ­ã‚¸ãƒƒã‚¯ã‚ã‚Š | PlayerController, AIStateMachine |
| ScriptableObject | ãƒ“ã‚¸ãƒã‚¹ãƒ­ã‚¸ãƒƒã‚¯ã‚ã‚Š | GameEvent, AIBehavior, DamageFormula |
| ç´”ç²‹ãƒ‡ãƒ¼ã‚¿SO | ãƒ­ã‚¸ãƒƒã‚¯ãªã— | âŒ é©ç”¨ä¸è¦ï¼ˆCharacterStatsç­‰ï¼‰ |

**Coreå±¤ã¯å„ªå…ˆé©ç”¨**: GameEventã€Commandç­‰ã®Coreå±¤ã‚³ãƒ³ãƒãƒ¼ãƒãƒ³ãƒˆã¯æœ€å„ªå…ˆã§ãƒ­ã‚¸ãƒƒã‚¯åˆ†é›¢ã€‚

**ãƒ‡ã‚£ãƒ¬ã‚¯ãƒˆãƒªæ§‹é€ **:
```
# Featureå±¤
Features/{Feature}/
â”œâ”€â”€ Logic/
â”‚   â””â”€â”€ {Component}Logic.cs    # ç´”ç²‹C#ï¼ˆãƒ†ã‚¹ãƒˆå¯¾è±¡ï¼‰
â””â”€â”€ {Component}.cs              # Humble Objectï¼ˆå§”è­²ã®ã¿ï¼‰

# Coreå±¤
Core/{Domain}/
â”œâ”€â”€ Logic/
â”‚   â””â”€â”€ {Component}Logic.cs    # ç´”ç²‹C#ï¼ˆãƒ†ã‚¹ãƒˆå¯¾è±¡ï¼‰
â””â”€â”€ {Component}.cs              # Humble Objectï¼ˆå§”è­²ã®ã¿ï¼‰
```

```csharp
// âŒ éæ¨å¥¨: Simulatorãƒ‘ã‚¿ãƒ¼ãƒ³ï¼ˆãƒ†ã‚¹ãƒˆå†…ã§å†å®Ÿè£… â†’ ã‚«ãƒãƒ¬ãƒƒã‚¸0%ï¼‰
public class PlayerControllerTests
{
    public class PlayerControllerSimulator { ... }  // å†å®Ÿè£…
}

// âœ… æ¨å¥¨: ãƒ­ã‚¸ãƒƒã‚¯åˆ†é›¢ãƒ‘ã‚¿ãƒ¼ãƒ³ï¼ˆæœ¬ç•ªã‚³ãƒ¼ãƒ‰ã‚’ãƒ†ã‚¹ãƒˆ â†’ ã‚«ãƒãƒ¬ãƒƒã‚¸è¨ˆæ¸¬ï¼‰
// Production: Features/Player/Logic/PlayerControllerLogic.cs
public class PlayerControllerLogic  // ç´”ç²‹C#ã€æœ¬ç•ªã‚³ãƒ¼ãƒ‰
{
    private bool _movementFrozen;
    public bool IsMovementFrozen => _movementFrozen;
    public void FreezeMovement() => _movementFrozen = true;
}

// Test: Tests/Features/Player/PlayerControllerLogicTests.cs
[TestFixture]
[Category("EditMode")]
[Category("Unit")]
public class PlayerControllerLogicTests
{
    private PlayerControllerLogic _logic;

    [SetUp]
    public void SetUp() => _logic = new PlayerControllerLogic();

    [Test]
    public void FreezeMovement_SetsFlag_True()
    {
        _logic.FreezeMovement();
        Assert.IsTrue(_logic.IsMovementFrozen);  // æœ¬ç•ªã‚³ãƒ¼ãƒ‰ã‚’ãƒ†ã‚¹ãƒˆ
    }
}
```

**åŸå‰‡**:
- ãƒ“ã‚¸ãƒã‚¹ãƒ­ã‚¸ãƒƒã‚¯ã¯`{Component}Logic.cs`ã«æŠ½å‡ºï¼ˆæœ¬ç•ªã‚³ãƒ¼ãƒ‰ï¼‰
- MonoBehaviour / ScriptableObject ã¯å…¥å‡ºåŠ›ã®è–„ã„ãƒ©ãƒƒãƒ‘ãƒ¼ï¼ˆHumble Objectï¼‰
- ãƒ†ã‚¹ãƒˆã¯`{Component}LogicTests.cs`ã§**æœ¬ç•ªã‚³ãƒ¼ãƒ‰**ã‚’ãƒ†ã‚¹ãƒˆ
- Coreå±¤ï¼ˆGameEventç­‰ï¼‰ã¯å„ªå…ˆçš„ã«ãƒ­ã‚¸ãƒƒã‚¯åˆ†é›¢ã‚’é©ç”¨

#### 2. AAAãƒ‘ã‚¿ãƒ¼ãƒ³
Arrange-Act-Assertæ§‹é€ ã‚’ä¸€è²«ã—ã¦ä½¿ç”¨ã€‚

#### 3. ãƒ†ã‚¹ãƒˆå‘½åè¦ç´„
```
{ãƒ¡ã‚½ãƒƒãƒ‰å}_{ã‚·ãƒŠãƒªã‚ª/æ¡ä»¶}_{æœŸå¾…ã•ã‚Œã‚‹çµæœ}
```

| ãƒ‘ã‚¿ãƒ¼ãƒ³ | ä¾‹ |
|----------|-----|
| åŸºæœ¬å½¢ | `Execute_WithValidTarget_DealsDamage` |
| Whenå½¢å¼ | `Jump_WhenGrounded_Succeeds` |
| Returnså½¢å¼ | `CanJump_WhenInAir_ReturnsFalse` |
| Throwså½¢å¼ | `GetService_WhenNotRegistered_ThrowsException` |

#### 4. ã‚«ãƒ†ã‚´ãƒªåˆ†é¡
```csharp
[TestFixture]
[Category("EditMode")]    // å®Ÿè¡Œç’°å¢ƒï¼ˆå¿…é ˆï¼‰
[Category("Unit")]        // ãƒ†ã‚¹ãƒˆã‚¿ã‚¤ãƒ—ï¼ˆå¿…é ˆï¼‰
[Category("Core")]        // ãƒ¬ã‚¤ãƒ¤ãƒ¼ï¼ˆæ¨å¥¨ï¼‰
[Category("Player")]      // æ©Ÿèƒ½é ˜åŸŸ
public class MyTests { }
```

### é‡è¦ãªåŸå‰‡

| åŸå‰‡ | èª¬æ˜ |
|------|------|
| EditModeå„ªå…ˆ | Unityä¾å­˜ã‚’æœ€å°åŒ– |
| ãƒ­ã‚¸ãƒƒã‚¯åˆ†é›¢ | æœ¬ç•ªã‚³ãƒ¼ãƒ‰ã§ãƒ­ã‚¸ãƒƒã‚¯åˆ†é›¢ã—ã€ãƒ†ã‚¹ãƒˆã§ç›´æ¥ãƒ†ã‚¹ãƒˆï¼ˆã‚«ãƒãƒ¬ãƒƒã‚¸è¨ˆæ¸¬ï¼‰ |
| æœ¬ç•ªã‚³ãƒ¼ãƒ‰ãƒ†ã‚¹ãƒˆ | Simulatorã§ã®å†å®Ÿè£…ã§ã¯ãªãã€æœ¬ç•ªã®Logicã‚¯ãƒ©ã‚¹ã‚’ãƒ†ã‚¹ãƒˆ |
| 1ãƒ†ã‚¹ãƒˆ1æ¤œè¨¼ | 1ã¤ã®ãƒ†ã‚¹ãƒˆã§1ã¤ã®å‹•ä½œã®ã¿ |
| AAAæ§‹é€ å³å®ˆ | Arrangeâ†’Actâ†’Assert |
| ç‹¬ç«‹æ€§ç¢ºä¿ | SetUp/TearDownã§æ¯å›åˆæœŸåŒ– |

### ãƒãƒƒãƒãƒ¢ãƒ¼ãƒ‰ãƒ†ã‚¹ãƒˆå®Ÿè¡Œ

```powershell
# ãƒ—ãƒ­ã‚¸ã‚§ã‚¯ãƒˆãƒ†ã‚¹ãƒˆã®ã¿
& "C:\Program Files\Unity\Hub\Editor\6000.3.2f1\Editor\Unity.exe" `
    -batchmode -runTests `
    -projectPath "D:\UnityProjects\kiban" `
    -testPlatform EditMode `
    -testResults "D:\UnityProjects\kiban\Logs\TestResults.xml" `
    -logFile "D:\UnityProjects\kiban\Logs\unity_test.log" `
    -assemblyNames "asterivo.kiban.Tests;asterivo.kiban.Tests.Core.Services;asterivo.kiban.Tests.Core.Editor;asterivo.kiban.Tests.Core.ECS;asterivo.kiban.Tests.Performance;asterivo.kiban.Tests.Integration;asterivo.kiban.Tests.Runtime;asterivo.kiban.Tests.Core.Editor.Setup"

# çµæœç¢ºèª
python "D:\UnityProjects\kiban\Scripts\parse_test_results.py" --verbose
```

**æ³¨æ„**: `-runTests`ä½¿ç”¨æ™‚ã¯`-quit`ã‚’ä½¿ç”¨ã—ãªã„ï¼ˆãƒ†ã‚¹ãƒˆæœªå®Ÿè¡Œã§çµ‚äº†ã™ã‚‹ï¼‰

| Exit Code | æ„å‘³ |
|-----------|------|
| 0 | ãƒ†ã‚¹ãƒˆå…¨ä»¶åˆæ ¼ã€ã¾ãŸã¯ãƒ†ã‚¹ãƒˆæœªå®Ÿè¡Œ |
| 2 | ãƒ†ã‚¹ãƒˆå®Ÿè¡Œå®Œäº†ã€ä¸€éƒ¨å¤±æ•—ã‚ã‚Š |
| 3 | ãƒ†ã‚¹ãƒˆå®Ÿè¡Œå¤±æ•—ï¼ˆã‚³ãƒ³ãƒ‘ã‚¤ãƒ«ã‚¨ãƒ©ãƒ¼ç­‰ï¼‰ |

### CIç’°å¢ƒåˆ¤å®š

```csharp
private static bool IsRunningInCIEnvironment()
{
    var ci = Environment.GetEnvironmentVariable("CI");
    var gh = Environment.GetEnvironmentVariable("GITHUB_ACTIONS");
    return !string.IsNullOrEmpty(ci) || !string.IsNullOrEmpty(gh);
}

// CIç’°å¢ƒã§ã‚¹ã‚­ãƒƒãƒ—
[Test]
public void MyTest()
{
    if (IsRunningInCIEnvironment())
    {
        Assert.Ignore("CIç’°å¢ƒã§ã‚¹ã‚­ãƒƒãƒ—");
        return;
    }
    // ãƒ†ã‚¹ãƒˆãƒ­ã‚¸ãƒƒã‚¯
}
```

è©³ç´°: [`Docs/UNIT_TESTING_GUIDELINES.md`](Docs/UNIT_TESTING_GUIDELINES.md)ã€[`Docs/03_Systems/Testing/PLAYMODE_TESTING_GUIDE.md`](Docs/03_Systems/Testing/PLAYMODE_TESTING_GUIDE.md)

## ãƒ‡ãƒãƒƒã‚°ãƒ­ã‚°è¦ç´„

**ç´ ã®`UnityEngine.Debug`ã®ç›´æ¥ä½¿ç”¨ã¯ç¦æ­¢**ã€‚Coreå±¤ãƒ‡ãƒãƒƒã‚°ã‚·ã‚¹ãƒ†ãƒ ã‚’ä½¿ç”¨ã€‚

### ç¦æ­¢äº‹é …
```csharp
// âŒ ç¦æ­¢
Debug.Log("ãƒ¡ãƒƒã‚»ãƒ¼ã‚¸");
Debug.LogWarning("è­¦å‘Š");
Debug.LogError("ã‚¨ãƒ©ãƒ¼");
```

### æ¨å¥¨: Coreå±¤ãƒ‡ãƒãƒƒã‚°ã‚·ã‚¹ãƒ†ãƒ 

#### 1. ProjectDebugï¼ˆç°¡æ˜“ãƒ­ã‚° - æœ€ã‚‚æ¨å¥¨ï¼‰
```csharp
using asterivo.kiban.Core;

ProjectDebug.Log("ã‚¢ãƒ—ãƒªã‚±ãƒ¼ã‚·ãƒ§ãƒ³é–‹å§‹");
ProjectDebug.LogWarning("ãƒ¡ãƒ¢ãƒªä½¿ç”¨é‡ãŒå¢—åŠ ");
ProjectDebug.LogError("ãƒªã‚½ãƒ¼ã‚¹ã®ãƒ­ãƒ¼ãƒ‰å¤±æ•—");
ProjectDebug.LogEditor("é–‹ç™ºå°‚ç”¨");  // ãƒªãƒªãƒ¼ã‚¹ãƒ“ãƒ«ãƒ‰é™¤å¤–
ProjectDebug.LogConditional("è©³ç´°", FeatureFlags.EnableVerboseLogging);
```

#### 2. IDebugServiceï¼ˆé«˜æ©Ÿèƒ½ãƒ­ã‚°ï¼‰
```csharp
using asterivo.kiban.Core.Debug;
using asterivo.kiban.Core.Services;

var debug = ServiceLocator.Get<IDebugService>();

// ã‚«ãƒ†ã‚´ãƒªä»˜ããƒ­ã‚°
debug.LogInfo("ã‚²ãƒ¼ãƒ é–‹å§‹", "Game");
debug.LogWarning("FPSä½ä¸‹æ¤œå‡º", "Performance");

// ãƒ‘ãƒ•ã‚©ãƒ¼ãƒãƒ³ã‚¹è¨ˆæ¸¬
using (debug.BeginPerformanceSample("AIè¨ˆç®—")) { /* è¨ˆæ¸¬å‡¦ç† */ }

// è¨ºæ–­ã¨ã‚¨ã‚¯ã‚¹ãƒãƒ¼ãƒˆ
var report = debug.RunDiagnostics();
debug.ExportLogs("Logs/debug.json", LogExportFormat.Json);
```

#### 3. IEventLoggerï¼ˆã‚¤ãƒ™ãƒ³ãƒˆè¿½è·¡ï¼‰
```csharp
var logger = ServiceLocator.GetService<IEventLogger>();
logger.LogEvent("PlayerDamaged", listenerCount: 3, payload: "damage:25");
logger.ExportToCSV("Logs/events.csv");
```

### ä½¿ã„åˆ†ã‘ã‚¬ã‚¤ãƒ‰

| ç”¨é€” | æ¨å¥¨ã‚·ã‚¹ãƒ†ãƒ  |
|------|-------------|
| ç°¡æ˜“ãƒ‡ãƒãƒƒã‚°ãƒ­ã‚° | `ProjectDebug.Log()` |
| Editorå°‚ç”¨ | `ProjectDebug.LogEditor()` |
| ã‚«ãƒ†ã‚´ãƒªåˆ†é¡ | `IDebugService.LogInfo(msg, category)` |
| æ€§èƒ½è¨ˆæ¸¬ | `IDebugService.BeginPerformanceSample()` |
| ã‚¤ãƒ™ãƒ³ãƒˆè¿½è·¡ | `IEventLogger.LogEvent()` |
| ãƒ­ã‚°ã‚¨ã‚¯ã‚¹ãƒãƒ¼ãƒˆ | `IDebugService.ExportLogs()` |

## æ³¨æ„äº‹é …

### å¿…é ˆãƒ«ãƒ¼ãƒ«
- **ã‚³ãƒ¼ãƒ‡ã‚£ãƒ³ã‚°è¦ç´„**: [`Docs/CODING_CONVENTIONS.md`](Docs/CODING_CONVENTIONS.md)
- **Coreå±¤è¨­è¨ˆ**: [`Docs/CORE_INTERFACE_DESIGN_GUIDELINES.md`](Docs/CORE_INTERFACE_DESIGN_GUIDELINES.md)
- **ãƒ†ã‚¹ãƒˆã‚¬ã‚¤ãƒ‰ãƒ©ã‚¤ãƒ³**: [`Docs/UNIT_TESTING_GUIDELINES.md`](Docs/UNIT_TESTING_GUIDELINES.md)
- **æ–°æ©Ÿèƒ½ã¯`Features`ã«è¿½åŠ **ï¼ˆCoreã«æ··åœ¨ã•ã›ãªã„ï¼‰
- **ãƒ†ã‚¹ãƒˆã¯`Tests`ã«é…ç½®**
- **ãƒ‰ã‚­ãƒ¥ãƒ¡ãƒ³ãƒˆã¯`Docs/`ã«é…ç½®**
- **ãƒ­ã‚°ã¯`Logs/`ã«é…ç½®**ï¼ˆAssetså¤–ï¼‰
- **ã‚µãƒ¼ãƒ‰ãƒ‘ãƒ¼ãƒ†ã‚£ï¼ˆ`Assets/Plugins`ï¼‰ã¯ç›´æ¥ç·¨é›†ç¦æ­¢**

### 4å±¤è²¬å‹™ã®éµå®ˆ
- **ã‚²ãƒ¼ãƒ å›ºæœ‰å®Ÿè£…** â†’ `Game`å±¤ âœï¸
- **æ©Ÿèƒ½éƒ¨å“** â†’ `Feature`å±¤ ğŸ”’
- **æ™®éçš„ä»•çµ„ã¿** â†’ `Core`å±¤ ğŸ”’
- **ãƒ†ãƒ³ãƒ—ãƒ¬ãƒ¼ãƒˆ** â†’ `Template`å±¤ ğŸ“–ï¼ˆã‚³ãƒ”ãƒ¼ã—ã¦ä½¿ç”¨ï¼‰
- **ä¾å­˜é–¢ä¿‚** â†’ ä¸€æ–¹å‘ (`Game` â†’ `Template` â†’ `Feature` â†’ `Core`)

### ãƒ•ã‚¡ã‚¤ãƒ«å‘½åè¦å‰‡
- **ã‚½ãƒ¼ã‚¹ã‚³ãƒ¼ãƒ‰/asmdef**: PascalCaseï¼ˆä¾‹: `PlayerController.cs`ï¼‰
- **ã‚½ãƒ¼ã‚¹ã‚³ãƒ¼ãƒ‰ã€asmdefã€metaãƒ•ã‚¡ã‚¤ãƒ«ã®åå‰ã¯ä¸€è‡´**ã•ã›ã‚‹
- **æ§‹æ–‡ã‚¨ãƒ©ãƒ¼/ã‚³ãƒ³ãƒ‘ã‚¤ãƒ«ã‚¨ãƒ©ãƒ¼ã¯å¿…ãšè§£æ¶ˆ**ã—ã¦ã‹ã‚‰æ¬¡ã®ä½œæ¥­ã¸

### éåŒæœŸå‡¦ç†
```csharp
// Unity 6 Awaitableä½¿ç”¨ï¼ˆUniTaskã¯å‰Šé™¤æ¸ˆã¿ï¼‰
async Awaitable DoSomethingAsync()
{
    await Awaitable.WaitForSecondsAsync(1.0f);
    await Awaitable.NextFrameAsync();
}
```

### å…¥åŠ›å‡¦ç†
```csharp
// æ—§Input Manager APIç¦æ­¢
var inputService = ServiceLocator.GetService<IInputService>();
if (inputService.JumpPressed) { /* ã‚¸ãƒ£ãƒ³ãƒ— */ }
Vector2 move = inputService.MoveInput;
```

è©³ç´°: [`Docs/InputSystem_Migration_TODO.md`](Docs/InputSystem_Migration_TODO.md)

### JSONæ“ä½œè¦ç´„ï¼ˆNewtonsoft Jsonå¿…é ˆï¼‰

**ç´ ã®`UnityEngine.JsonUtility`ã®ä½¿ç”¨ã¯ç¦æ­¢**ã€‚Newtonsoft Jsonï¼ˆ`Newtonsoft.Json`ï¼‰ã‚’ä½¿ç”¨ã€‚

#### ç¦æ­¢äº‹é …
```csharp
// âŒ ç¦æ­¢ - Unityæ¨™æº–JsonUtility
var json = JsonUtility.ToJson(obj);
var obj = JsonUtility.FromJson<T>(json);
```

#### æ¨å¥¨: Newtonsoft Json
```csharp
using Newtonsoft.Json;

// âœ… æ¨å¥¨ - Newtonsoft Json
var json = JsonConvert.SerializeObject(obj, Formatting.Indented);
var obj = JsonConvert.DeserializeObject<T>(json);

// è¨­å®šã‚«ã‚¹ã‚¿ãƒã‚¤ã‚º
var settings = new JsonSerializerSettings
{
    NullValueHandling = NullValueHandling.Ignore,
    Formatting = Formatting.Indented
};
var json = JsonConvert.SerializeObject(obj, settings);
```

#### Newtonsoft Jsonã‚’ä½¿ç”¨ã™ã‚‹ç†ç”±

| æ©Ÿèƒ½ | JsonUtility | Newtonsoft Json |
|------|-------------|-----------------|
| Dictionaryå¯¾å¿œ | âŒ | âœ… |
| private ãƒ•ã‚£ãƒ¼ãƒ«ãƒ‰ | âŒ | âœ… |
| nullå‡¦ç† | âŒ | âœ… |
| ã‚«ã‚¹ã‚¿ãƒ å¤‰æ› | âŒ | âœ… |
| LINQ to JSON | âŒ | âœ… |
| è¤‡é›‘ãªãƒã‚¹ãƒˆ | â–³ | âœ… |

**ãƒ‘ãƒƒã‚±ãƒ¼ã‚¸**: `com.unity.nuget.newtonsoft-json@3.2.1`ï¼ˆå°å…¥æ¸ˆã¿ï¼‰

## åˆ¶ç´„

- âš ï¸ **ã€æœ€é‡è¦ã€‘ãƒãƒƒãƒãƒ¢ãƒ¼ãƒ‰èµ·å‹•å‰ã«Unity Editorã‚’çµ‚äº†**
- **ã‚³ãƒ³ãƒ‘ã‚¤ãƒ«ã‚¨ãƒ©ãƒ¼ã‚’è§£æ¶ˆã—ã¦ã‹ã‚‰å®Ÿè¡Œ**
- **ãƒ—ãƒ¬ã‚¤ãƒ¢ãƒ¼ãƒ‰å®Ÿè¡Œå‰ã«ã‚³ãƒ³ãƒ‘ã‚¤ãƒ«ã‚¨ãƒ©ãƒ¼ã‚’å…¨ã¦è§£æ¶ˆ**

## ãƒãƒƒãƒã‚³ãƒ³ãƒ‘ã‚¤ãƒ«è‡ªå‹•å®Ÿè¡Œ

ä»¥ä¸‹ã®å ´åˆã«è‡ªå‹•å®Ÿè¡Œ:
1. 5ã¤ä»¥ä¸Šã®C#ãƒ•ã‚¡ã‚¤ãƒ«å¤‰æ›´ãƒ»ä½œæˆ
2. asmdefå¤‰æ›´
3. åå‰ç©ºé–“ã®å¤§è¦æ¨¡ãƒªãƒ•ã‚¡ã‚¯ã‚¿ãƒªãƒ³ã‚°
4. Coreå±¤ã®ã‚¢ãƒ¼ã‚­ãƒ†ã‚¯ãƒãƒ£å¤‰æ›´
5. è¤‡æ•°ã‚³ãƒ³ãƒ‘ã‚¤ãƒ«ã‚¨ãƒ©ãƒ¼ä¿®æ­£å¾Œ
6. ServiceLocatorã¸ã®æ–°è¦ã‚µãƒ¼ãƒ“ã‚¹ç™»éŒ²
7. GameEventã®å¤§é‡è¿½åŠ ãƒ»å¤‰æ›´
8. ãƒ‘ãƒƒã‚±ãƒ¼ã‚¸ã®è¿½åŠ ãƒ»æ›´æ–°

**å®Ÿè¡Œæ–¹æ³•**:
```
mcp__ai-game-developer__manage_menu_item(
    action="execute",
    menu_path="Tools/Batch Compile/Save Compile and Restart"
)
```

**å®Ÿè¡Œå‰ç¢ºèª**:
- Unity Editorãƒ—ãƒ­ã‚»ã‚¹ã®ç¢ºèªãƒ»çµ‚äº†ï¼ˆå¿…é ˆï¼‰
- ã™ã¹ã¦ã®å¤‰æ›´ã‚’ãƒ•ã‚¡ã‚¤ãƒ«ã«ä¿å­˜æ¸ˆã¿

## ãƒ†ã‚¹ãƒˆçµæœå‡ºåŠ›ä¾‹

```
=== Unity Test Results ===
Total:    4413
Passed:   4367
Failed:   0
Skipped:  46
Duration: 55.87s

RESULT: PASSED
```




ã“ã®ãƒ—ãƒ­ã‚¸ã‚§ã‚¯ãƒˆã‚’ [Game Animation Sample](https://www.fab.com/ja/listings/880e319a-a59e-4ed2-b268-b32dac7fa016) ã¸çµ±åˆã—ãŸã„ã€‚ ãã®æ–¹æ³•ã‚’è©³ç´°ã«æ¤œè¨ã—ã¦ã€‚
Game Animation Sample ã‚’å…ƒã«ã—ãŸãƒ—ãƒ­ã‚¸ã‚§ã‚¯ãƒˆã¯ @"C:\Users\work0\uechi\UEProjects\AthleticTrial\" ã«ã€ã‚ã‚Šã¾ã™ã€‚


Game Animation Sample ã¸ã®çµ±åˆã®ä¸‹æº–å‚™ã—ã¦ã„ã‚‹ã®ã§èª¿æŸ»ã—ãŸã®ã§ã™ãŒ
**å…¬å¼ç™ºè¡¨ã¯ç„¡ã„ã§ã™ãŒ**

UE6ã‹ã‚‰UEFNã‚¹ã‚±ãƒ«ãƒˆãƒ³ãŒæ¨™æº–ã«ãªã‚Šãã†ãªå‹•ãã§ã™ã€‚
Animation Blueprint ã®å¾Œç¶™ã‚·ã‚¹ãƒ†ãƒ ã¨ã—ã¦ã€UAFï¼ˆUnreal Animation Frameworkï¼‰ãŒé–‹ç™ºä¸­ã§ã™ãŒ
UE 5.8 ã§ã¯äºˆå®šã¨ã—ã¦ã€GASP(Game Animation Support Package) ã« UAF ã§å®Œå…¨ã«æ§‹ç¯‰ã•ã‚ŒãŸã‚­ãƒ£ãƒ©ã‚¯ã‚¿ãƒ¼ã‚’è¿½åŠ ã™ã‚‹ã‚ˆã†ã§ã™ã€‚

